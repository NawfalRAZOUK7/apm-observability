{
  "collection": {
    "_": {
      "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
    },
    "item": [
      {
        "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
        "name": "00 - Create sample A (older time, 500)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_a', body.id);"
              ],
              "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
            }
          }
        ]
      },
      {
        "id": "64411c3e-f954-4729-83f6-046e16268774",
        "name": "01 - Create sample B (newer time, latency 100)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_b', body.id);"
              ],
              "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
            }
          }
        ]
      },
      {
        "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
        "name": "02 - Create sample C (newer time, latency 200)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_c', body.id);"
              ],
              "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
            }
          }
        ]
      },
      {
        "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
        "name": "10 - GET list (default ordering -time)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "if (items.length >= 2) {",
                "  const t0 = Date.parse(items[0].time);",
                "  const t1 = Date.parse(items[1].time);",
                "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                "}"
              ],
              "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
            }
          }
        ]
      },
      {
        "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
        "name": "11 - Filter: service=auth",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
              ],
              "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
            }
          }
        ]
      },
      {
        "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
        "name": "12 - Filter: status_code=500",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
              ],
              "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
            }
          }
        ]
      },
      {
        "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
        "name": "13 - Filter: latency 120..220",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All latency within range', () => items.forEach(x => {",
                "  pm.expect(x.latency_ms).to.be.at.least(120);",
                "  pm.expect(x.latency_ms).to.be.at.most(220);",
                "}));"
              ],
              "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
            }
          }
        ]
      },
      {
        "id": "8171401b-052d-4601-8055-c818256d9dd3",
        "name": "14 - Filter: time range 01:11..01:13",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "const after = Date.parse('2025-12-14T01:11:00Z');",
                "const before = Date.parse('2025-12-14T01:13:00Z');",
                "pm.test('All time within range', () => items.forEach(x => {",
                "  const t = Date.parse(x.time);",
                "  pm.expect(t).to.be.at.least(after);",
                "  pm.expect(t).to.be.at.most(before);",
                "}));"
              ],
              "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
            }
          }
        ]
      },
      {
        "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
        "name": "15 - Ordering: -time,latency_ms",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "for (let i = 0; i < items.length - 1; i++) {",
                "  const a = items[i];",
                "  const b = items[i + 1];",
                "  const ta = Date.parse(a.time);",
                "  const tb = Date.parse(b.time);",
                "  if (ta === tb) {",
                "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                "  } else {",
                "    pm.expect(ta).to.be.at.least(tb);",
                "  }",
                "}"
              ],
              "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
            }
          }
        ]
      },
      {
        "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
        "name": "20 - GET detail (id_b)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "711cccab-0419-436d-986d-ab6703546a6c",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));"
              ],
              "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
            }
          }
        ]
      },
      {
        "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
        "name": "21 - PATCH update (id_b -> latency_ms=111)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
              ],
              "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
            }
          }
        ]
      },
      {
        "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
        "name": "90 - DELETE sample A",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_a}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
            }
          }
        ]
      },
      {
        "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
        "name": "91 - DELETE sample B",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
            }
          }
        ]
      },
      {
        "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
        "name": "92 - DELETE sample C",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_c}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
            }
          }
        ]
      }
    ],
    "event": [],
    "variable": [
      {
        "type": "string",
        "value": "https://{{app_host}}:{{app_https_port}}",
        "key": "base_url"
      },
      {
        "type": "string",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "string",
        "value": "8443",
        "key": "app_https_port"
      }
    ],
    "info": {
      "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
      "name": "APM Observability - Step 1 (CRUD + Filters)",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "description": {
        "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
        "type": "text/plain"
      }
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_using": "Newman"
    },
    "id": "2591ac81-8117-4a07-a6d6-556998677816",
    "name": "APM Observability - Cluster (Local)",
    "values": [
      {
        "type": "any",
        "value": "https://127.0.0.1:18443",
        "key": "base_url"
      },
      {
        "type": "any",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "any",
        "value": "18443",
        "key": "app_https_port"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_a"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_b"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_c"
      }
    ]
  },
  "globals": {
    "id": "7282b3af-875f-40de-a59c-c0e86dc0454a",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 14,
        "pending": 0,
        "failed": 14
      },
      "tests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 14,
        "pending": 0,
        "failed": 14
      },
      "testScripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequestScripts": {
        "total": 0,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 0,
      "responseMin": 0,
      "responseMax": 0,
      "responseSd": 0,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1766971146779,
      "completed": 1766971147833
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "91cacdd1-ca37-4db6-b0ce-1ad1c93d8bab",
          "httpRequestId": "e18d2286-2919-49b2-bb36-aa3505c6149a"
        },
        "item": {
          "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e4dea12c-2400-4a64-a71d-13a7bf4c066f",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "0e4b11a8-024e-46ed-979d-6de9b7c96fc5",
              "timestamp": 1766971146858,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "dcd38218-3536-4a43-8b8a-adeb53658047",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "aece2036-e673-4c5a-97b6-1eb482576d5c"
        },
        "item": {
          "id": "64411c3e-f954-4729-83f6-046e16268774",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4106041d-e975-45ba-aa80-7948643bb996",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "64411c3e-f954-4729-83f6-046e16268774",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "9f485448-cd70-4558-9c24-e4ca5e7ead97",
              "timestamp": 1766971146888,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "371ee16e-5327-495d-bf51-e1c927b023ea",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "d1a6c0fa-15b2-4d35-ac9c-aac707ea6970"
        },
        "item": {
          "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "74bf5665-1f04-43bf-ad9d-04084e4e17d6",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "f029e4b0-9fa1-4afe-8305-114cbbfee2c3",
              "timestamp": 1766971146921,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "c54cbf95-b132-4749-b058-01ab68c3f395",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "276801c8-eec8-458b-9e44-9ca70886c13e"
        },
        "item": {
          "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "9a8e4954-e126-4152-800e-c341bd721b55",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "803105a1-f0fb-4d05-91c9-27b00a0b337a",
              "timestamp": 1766971146952,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3bc7b4dd-d467-4608-bf49-79a1c33a60b3",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "3a3beb0d-072b-4bc9-87db-65ef55e40c85"
        },
        "item": {
          "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "2416c8ac-166e-40be-8135-fb27c06107d7",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "3464fc13-ce07-4155-9297-90757a158824",
              "timestamp": 1766971147463,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4af39701-2368-446c-ba74-23b826395200",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "b6d49d21-65a6-4767-aba2-8e9a8156e118"
        },
        "item": {
          "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "95ec1066-4b37-4dba-ab12-c194459072f5",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "bf222757-a0c1-4593-9ce7-7a31ac6819ae",
              "timestamp": 1766971147538,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "48deb809-c4a4-44ae-b833-3885d7857b66",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "b5eb46e7-fc1a-418e-89d1-bc4fa10321bc"
        },
        "item": {
          "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "de8a6d8f-14a4-4ff1-91d6-f00e27f0a13c",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "f149b7df-f7fb-411c-99a2-d0c928f5663f",
              "timestamp": 1766971147573,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "c6a7489d-1487-4481-aa71-5393f53963d5",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "f88ca822-f446-4690-9705-2dcc74d06350"
        },
        "item": {
          "id": "8171401b-052d-4601-8055-c818256d9dd3",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "b2dec2c2-2cdf-438d-bffc-a1a3c91cb758",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "8171401b-052d-4601-8055-c818256d9dd3",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "8e77cc6e-1019-4a94-9b2f-e54a3e98c22c",
              "timestamp": 1766971147620,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "b01fa4d1-9ce2-4bb3-96f1-f304ef9447bf",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "77638223-da8e-4354-a8b9-5bda58fa9c95"
        },
        "item": {
          "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "28f7aea7-0d18-4b21-8b20-a58018f3f8a6",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "1662d1db-3fe1-4efb-a7b3-80db4d8cda1d",
              "timestamp": 1766971147658,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "a0324d80-c227-44b2-80a8-da06e78ae8c6",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "0a8f9fc6-1a1f-4ab7-8e33-fc232b424369"
        },
        "item": {
          "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "711cccab-0419-436d-986d-ab6703546a6c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "7ab469f2-5ca5-4fdb-8a42-27aa31246d87",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "9ea7cd41-6ef4-49e5-ad06-fc5a532108a6",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "eaa64432-adf5-4865-aec1-dc1e02c51ab8"
        },
        "item": {
          "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "ee3cb35c-4df6-4d62-bba9-3c2d454b9c6b",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "6dee41d4-20db-4f2a-a642-eff2e89decc6",
              "timestamp": 1766971147713,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "e226df9c-70a1-4e03-bc7d-54e4fd9bf45e",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "9819b241-af82-44d9-99b5-61a9103d6638"
        },
        "item": {
          "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "aa9e43c6-817a-4c08-a3b1-22a7852a8b8e",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "bbab434a-31fb-4b63-9d8e-e77be87ad451",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "0fc308b7-fa34-4c47-a8f0-7d08eefeb3e4"
        },
        "item": {
          "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "33e12ff1-2845-4ff8-bae3-11a5d6813536",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "916d0398-184a-4e3f-91d1-e83902d1b029",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "12a5d54b-c3e6-45a8-8aab-34ed81a88908"
        },
        "item": {
          "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "1b61c077-e0be-49e7-9f77-923728af34fb",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 0
    },
    "failures": [
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "d4cb128b-a885-40eb-ab8c-f3da207402e0",
          "timestamp": 1766971146823,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "e4dea12c-2400-4a64-a71d-13a7bf4c066f",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "91cacdd1-ca37-4db6-b0ce-1ad1c93d8bab",
          "httpRequestId": "e18d2286-2919-49b2-bb36-aa3505c6149a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "67d7b41de87cc5a4030e984c2041f26b",
          "id": "2bbf1b46-9b1f-48b4-8268-13068067c67e",
          "timestamp": 1766971146851,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "91cacdd1-ca37-4db6-b0ce-1ad1c93d8bab",
          "httpRequestId": "e18d2286-2919-49b2-bb36-aa3505c6149a",
          "scriptId": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
          "execution": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "0e4b11a8-024e-46ed-979d-6de9b7c96fc5",
          "timestamp": 1766971146858,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "91cacdd1-ca37-4db6-b0ce-1ad1c93d8bab",
          "httpRequestId": "e18d2286-2919-49b2-bb36-aa3505c6149a",
          "scriptId": "c22da209-8b02-47e0-8a9a-5d174f2bdad0"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "92e7d72a-5423-4d84-baa9-e87f0f6cfe53",
          "timestamp": 1766971146879,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "64411c3e-f954-4729-83f6-046e16268774",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "4106041d-e975-45ba-aa80-7948643bb996",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "dcd38218-3536-4a43-8b8a-adeb53658047",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "aece2036-e673-4c5a-97b6-1eb482576d5c"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "804ad9de9983fdfa9b9d91e7c6dba59c",
          "id": "e67ca214-1f85-4f81-83c4-5f4545fd402a",
          "timestamp": 1766971146886,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "64411c3e-f954-4729-83f6-046e16268774",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "dcd38218-3536-4a43-8b8a-adeb53658047",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "aece2036-e673-4c5a-97b6-1eb482576d5c",
          "scriptId": "b4657a6a-827d-46da-8157-afa57f1eb91d",
          "execution": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "9f485448-cd70-4558-9c24-e4ca5e7ead97",
          "timestamp": 1766971146888,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "64411c3e-f954-4729-83f6-046e16268774",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "dcd38218-3536-4a43-8b8a-adeb53658047",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "aece2036-e673-4c5a-97b6-1eb482576d5c",
          "scriptId": "b4657a6a-827d-46da-8157-afa57f1eb91d"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "7d51795a-e8fc-41bf-bee2-f0a56cd02c0c",
          "timestamp": 1766971146905,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "74bf5665-1f04-43bf-ad9d-04084e4e17d6",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "371ee16e-5327-495d-bf51-e1c927b023ea",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "d1a6c0fa-15b2-4d35-ac9c-aac707ea6970"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "0d21052361d8241e41b572f170e08255",
          "id": "d0894c5e-8f0c-4292-820f-6a958a1268e5",
          "timestamp": 1766971146919,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "371ee16e-5327-495d-bf51-e1c927b023ea",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "d1a6c0fa-15b2-4d35-ac9c-aac707ea6970",
          "scriptId": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
          "execution": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "f029e4b0-9fa1-4afe-8305-114cbbfee2c3",
          "timestamp": 1766971146921,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "371ee16e-5327-495d-bf51-e1c927b023ea",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "d1a6c0fa-15b2-4d35-ac9c-aac707ea6970",
          "scriptId": "cc61debc-4746-4c1f-a04e-0562fa7668d2"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "2ec0b3f2-55b4-47df-81c4-3d168f10a106",
          "timestamp": 1766971146935,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "9a8e4954-e126-4152-800e-c341bd721b55",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "c54cbf95-b132-4749-b058-01ab68c3f395",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "276801c8-eec8-458b-9e44-9ca70886c13e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "13eef642ef5fef91a4d023d90dbab5d9",
          "id": "62e0d80b-ab1c-4b97-bc64-5a7f4c487691",
          "timestamp": 1766971146949,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "c54cbf95-b132-4749-b058-01ab68c3f395",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "276801c8-eec8-458b-9e44-9ca70886c13e",
          "scriptId": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
          "execution": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "803105a1-f0fb-4d05-91c9-27b00a0b337a",
          "timestamp": 1766971146952,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "c54cbf95-b132-4749-b058-01ab68c3f395",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "276801c8-eec8-458b-9e44-9ca70886c13e",
          "scriptId": "400a7bb4-a807-4c95-a5a6-9c2b91a97467"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "49cd4b88-ca36-4b50-86b6-8763137134ae",
          "timestamp": 1766971147163,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "2416c8ac-166e-40be-8135-fb27c06107d7",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "3bc7b4dd-d467-4608-bf49-79a1c33a60b3",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "3a3beb0d-072b-4bc9-87db-65ef55e40c85"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "81863e971fc603c684f101e8a3caf6fe",
          "id": "d608b488-f3d9-4760-a53c-f6273565efb0",
          "timestamp": 1766971147355,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "3bc7b4dd-d467-4608-bf49-79a1c33a60b3",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "3a3beb0d-072b-4bc9-87db-65ef55e40c85",
          "scriptId": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
          "execution": "33c63a96-7543-477c-9b8c-304cf2c12510"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "3464fc13-ce07-4155-9297-90757a158824",
          "timestamp": 1766971147463,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "3bc7b4dd-d467-4608-bf49-79a1c33a60b3",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "3a3beb0d-072b-4bc9-87db-65ef55e40c85",
          "scriptId": "67a64dfe-3a64-420f-a8ea-8c257ee298ac"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "5362994f-d3b9-45b5-90d1-87d84e7182a8",
          "timestamp": 1766971147524,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "95ec1066-4b37-4dba-ab12-c194459072f5",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "4af39701-2368-446c-ba74-23b826395200",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "b6d49d21-65a6-4767-aba2-8e9a8156e118"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)",
          "checksum": "19fb65b25b7ee0226c79d26fb9bacf14",
          "id": "acbbfec1-b8a9-42bc-b68e-2f97faf7c13f",
          "timestamp": 1766971147532,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "4af39701-2368-446c-ba74-23b826395200",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "b6d49d21-65a6-4767-aba2-8e9a8156e118",
          "scriptId": "90629d81-61df-4c39-96b2-ad8f719ddaec",
          "execution": "01cc677b-b430-4431-9b57-3f420928964c"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "bf222757-a0c1-4593-9ce7-7a31ac6819ae",
          "timestamp": 1766971147538,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "4af39701-2368-446c-ba74-23b826395200",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "b6d49d21-65a6-4767-aba2-8e9a8156e118",
          "scriptId": "90629d81-61df-4c39-96b2-ad8f719ddaec"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "d90810f1-be4d-4f27-98c1-d1003bca5a38",
          "timestamp": 1766971147556,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "de8a6d8f-14a4-4ff1-91d6-f00e27f0a13c",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "48deb809-c4a4-44ae-b833-3885d7857b66",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "b5eb46e7-fc1a-418e-89d1-bc4fa10321bc"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)",
          "checksum": "f6e0ece6b57647a5e9d91a61297853da",
          "id": "5ae98dba-8dad-4ac9-a2cc-f06316f17056",
          "timestamp": 1766971147568,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "48deb809-c4a4-44ae-b833-3885d7857b66",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "b5eb46e7-fc1a-418e-89d1-bc4fa10321bc",
          "scriptId": "2979b6a6-a78c-41e1-a706-c69c61c34783",
          "execution": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "f149b7df-f7fb-411c-99a2-d0c928f5663f",
          "timestamp": 1766971147573,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "48deb809-c4a4-44ae-b833-3885d7857b66",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "b5eb46e7-fc1a-418e-89d1-bc4fa10321bc",
          "scriptId": "2979b6a6-a78c-41e1-a706-c69c61c34783"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "c7f88b3f-f476-4a34-8759-fa45ec0aa324",
          "timestamp": 1766971147606,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "8171401b-052d-4601-8055-c818256d9dd3",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "b2dec2c2-2cdf-438d-bffc-a1a3c91cb758",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "c6a7489d-1487-4481-aa71-5393f53963d5",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "f88ca822-f446-4690-9705-2dcc74d06350"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)",
          "checksum": "85e111a6a0eb0e4643c561bb3353d792",
          "id": "355c2054-3ca2-4f0b-b537-d182902421d1",
          "timestamp": 1766971147618,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "8171401b-052d-4601-8055-c818256d9dd3",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "c6a7489d-1487-4481-aa71-5393f53963d5",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "f88ca822-f446-4690-9705-2dcc74d06350",
          "scriptId": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
          "execution": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "8e77cc6e-1019-4a94-9b2f-e54a3e98c22c",
          "timestamp": 1766971147620,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "8171401b-052d-4601-8055-c818256d9dd3",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "c6a7489d-1487-4481-aa71-5393f53963d5",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "f88ca822-f446-4690-9705-2dcc74d06350",
          "scriptId": "aa269005-86fd-4405-9ae1-33a7ea2c149e"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "b3a7ce97-50ff-4aa6-98fe-c0830096ce61",
          "timestamp": 1766971147638,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "28f7aea7-0d18-4b21-8b20-a58018f3f8a6",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "b01fa4d1-9ce2-4bb3-96f1-f304ef9447bf",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "77638223-da8e-4354-a8b9-5bda58fa9c95"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)",
          "checksum": "e01061e1ff1d05bd55141de89c272b66",
          "id": "f40ee6ae-71b8-4022-a84f-4a64a54974e2",
          "timestamp": 1766971147653,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "b01fa4d1-9ce2-4bb3-96f1-f304ef9447bf",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "77638223-da8e-4354-a8b9-5bda58fa9c95",
          "scriptId": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
          "execution": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "1662d1db-3fe1-4efb-a7b3-80db4d8cda1d",
          "timestamp": 1766971147658,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "b01fa4d1-9ce2-4bb3-96f1-f304ef9447bf",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "77638223-da8e-4354-a8b9-5bda58fa9c95",
          "scriptId": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "86b194c5-4f08-45e8-a9de-840490aef314",
          "timestamp": 1766971147673,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "7ab469f2-5ca5-4fdb-8a42-27aa31246d87",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "711cccab-0419-436d-986d-ab6703546a6c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "a0324d80-c227-44b2-80a8-da06e78ae8c6",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "0a8f9fc6-1a1f-4ab7-8e33-fc232b424369"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)",
          "checksum": "e3f8c986e778f24df296ec058823adc7",
          "id": "64ce4d39-2a57-4f9f-9d3b-62e70aa16d57",
          "timestamp": 1766971147681,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "711cccab-0419-436d-986d-ab6703546a6c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "a0324d80-c227-44b2-80a8-da06e78ae8c6",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "0a8f9fc6-1a1f-4ab7-8e33-fc232b424369",
          "scriptId": "711cccab-0419-436d-986d-ab6703546a6c",
          "execution": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "26475594-c98f-4498-bf6d-39d3f648a287",
          "timestamp": 1766971147700,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "ee3cb35c-4df6-4d62-bba9-3c2d454b9c6b",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "9ea7cd41-6ef4-49e5-ad06-fc5a532108a6",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "eaa64432-adf5-4865-aec1-dc1e02c51ab8"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)",
          "checksum": "ed104d0cfe2da2d0bf8daa8a2556b309",
          "id": "1300b986-7e29-49e1-a0f7-cc3d13888650",
          "timestamp": 1766971147711,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "9ea7cd41-6ef4-49e5-ad06-fc5a532108a6",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "eaa64432-adf5-4865-aec1-dc1e02c51ab8",
          "scriptId": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
          "execution": "80732e4e-62f2-4d6a-8d80-e074edb11199"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "6dee41d4-20db-4f2a-a642-eff2e89decc6",
          "timestamp": 1766971147713,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "9ea7cd41-6ef4-49e5-ad06-fc5a532108a6",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "eaa64432-adf5-4865-aec1-dc1e02c51ab8",
          "scriptId": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "1845696d-ce5b-4a6e-896f-311f0aa9a1e0",
          "timestamp": 1766971147743,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "aa9e43c6-817a-4c08-a3b1-22a7852a8b8e",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "e226df9c-70a1-4e03-bc7d-54e4fd9bf45e",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "9819b241-af82-44d9-99b5-61a9103d6638"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)",
          "checksum": "5b0f115a5bcc90517d883d812c35d49b",
          "id": "c4ade52d-8c87-4b77-ba2c-c7edfdd41669",
          "timestamp": 1766971147756,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "e226df9c-70a1-4e03-bc7d-54e4fd9bf45e",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "9819b241-af82-44d9-99b5-61a9103d6638",
          "scriptId": "760c50ec-bdb1-4551-9935-7ec42724eac1",
          "execution": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "a3e6a97a-f0ba-49ff-b2ea-bbf1c5901ae1",
          "timestamp": 1766971147780,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "33e12ff1-2845-4ff8-bae3-11a5d6813536",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "bbab434a-31fb-4b63-9d8e-e77be87ad451",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "0fc308b7-fa34-4c47-a8f0-7d08eefeb3e4"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)",
          "checksum": "5abd61c71006ae2baba2465b9af20643",
          "id": "3fefdd0b-7123-470b-8e96-d3d5e7a8c344",
          "timestamp": 1766971147789,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "bbab434a-31fb-4b63-9d8e-e77be87ad451",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "0fc308b7-fa34-4c47-a8f0-7d08eefeb3e4",
          "scriptId": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
          "execution": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18443,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18443",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "b3e869169e104e16f4b4c4b72efacc3f",
          "id": "641e508b-b9d1-42b8-ba76-d624d2529bc0",
          "timestamp": 1766971147814,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18443",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "1b61c077-e0be-49e7-9f77-923728af34fb",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18443",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "916d0398-184a-4e3f-91d1-e83902d1b029",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "12a5d54b-c3e6-45a8-8aab-34ed81a88908"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)",
          "checksum": "1445c3228a92c0bb7ec81b4ccb77c3af",
          "id": "bc1109fc-f776-43fe-8310-ef3a99dc0b2d",
          "timestamp": 1766971147820,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "fca4f727-4d2b-4682-a906-dc918e417b5a",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c22da209-8b02-47e0-8a9a-5d174f2bdad0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "a0a00b61-f0b8-4dc7-aab1-502af415a2e2"
                  }
                }
              ]
            },
            {
              "id": "64411c3e-f954-4729-83f6-046e16268774",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b4657a6a-827d-46da-8157-afa57f1eb91d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "098af4c2-0cb6-48b6-9925-5052fa4f82bd"
                  }
                }
              ]
            },
            {
              "id": "e3c1b2cf-dda4-4151-9e35-45ef2c336ccb",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cc61debc-4746-4c1f-a04e-0562fa7668d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d871f1fa-d1d2-4478-9ab1-272d7a4219d4"
                  }
                }
              ]
            },
            {
              "id": "2d601ec3-b830-4581-aeda-863c7760e2d5",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "400a7bb4-a807-4c95-a5a6-9c2b91a97467",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "8cf9939f-0c61-429b-af88-3e7e814da6fa"
                  }
                }
              ]
            },
            {
              "id": "4ffc4249-6282-46ea-8a47-91bfd8606aea",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "67a64dfe-3a64-420f-a8ea-8c257ee298ac",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "33c63a96-7543-477c-9b8c-304cf2c12510"
                  }
                }
              ]
            },
            {
              "id": "28f87906-c67c-4813-9be0-c4d1d596413a",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "90629d81-61df-4c39-96b2-ad8f719ddaec",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "01cc677b-b430-4431-9b57-3f420928964c"
                  }
                }
              ]
            },
            {
              "id": "239b581c-724d-4c36-9f2b-cccc3a9e60e0",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2979b6a6-a78c-41e1-a706-c69c61c34783",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "72dc6209-3a29-4f60-b8cb-a0ecf6ea0e67"
                  }
                }
              ]
            },
            {
              "id": "8171401b-052d-4601-8055-c818256d9dd3",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "aa269005-86fd-4405-9ae1-33a7ea2c149e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ae9acd88-a934-4a39-992c-a00b33e3c09f"
                  }
                }
              ]
            },
            {
              "id": "7c47a344-9bf1-41fe-855c-812ccfd48555",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ade69d2d-e4fc-4bdf-aa1f-2d3160091fbd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "3e369d7c-17e6-40b9-bdfc-9306277bda96"
                  }
                }
              ]
            },
            {
              "id": "5785ab84-1321-4680-bc7a-3e490f185ed7",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "711cccab-0419-436d-986d-ab6703546a6c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "c3e26404-48d8-4cfd-8fd2-d78b3f25b9ce"
                  }
                }
              ]
            },
            {
              "id": "8dba8341-1655-488e-85e5-6fa79ef3dba9",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "958b4f4e-50c3-4d5d-90cd-ea8ac0e05144",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "80732e4e-62f2-4d6a-8d80-e074edb11199"
                  }
                }
              ]
            },
            {
              "id": "83706f8c-f1a0-47c6-8528-5cc9a6145cac",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "760c50ec-bdb1-4551-9935-7ec42724eac1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "3c7a1dc0-2622-4426-ae3e-2b46174cfc89"
                  }
                }
              ]
            },
            {
              "id": "d7d34239-ce95-4810-b202-ba72fc38e875",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6f02dadb-215d-4d8c-b1f1-865ccf5edd67",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "e71f0b3f-8672-4930-8722-ecfc15507bfd"
                  }
                }
              ]
            },
            {
              "id": "183509d6-6031-4d6b-96de-f395fda8afb6",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "916d0398-184a-4e3f-91d1-e83902d1b029",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "12a5d54b-c3e6-45a8-8aab-34ed81a88908",
          "scriptId": "633f6cbb-3a1b-4961-bc67-1cdfc273d7d2",
          "execution": "a4aba92e-df66-4929-aa4a-e502c73c1e88"
        }
      }
    ],
    "error": null
  }
}