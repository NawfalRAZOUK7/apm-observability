{
  "collection": {
    "_": {
      "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
    },
    "item": [
      {
        "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
        "name": "00 - Create sample A (older time, 500)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_a', body.id);"
              ],
              "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
            }
          }
        ]
      },
      {
        "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
        "name": "01 - Create sample B (newer time, latency 100)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_b', body.id);"
              ],
              "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
            }
          }
        ]
      },
      {
        "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
        "name": "02 - Create sample C (newer time, latency 200)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_c', body.id);"
              ],
              "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
            }
          }
        ]
      },
      {
        "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
        "name": "10 - GET list (default ordering -time)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "if (items.length >= 2) {",
                "  const t0 = Date.parse(items[0].time);",
                "  const t1 = Date.parse(items[1].time);",
                "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                "}"
              ],
              "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
            }
          }
        ]
      },
      {
        "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
        "name": "11 - Filter: service=auth",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
              ],
              "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
            }
          }
        ]
      },
      {
        "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
        "name": "12 - Filter: status_code=500",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
              ],
              "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
            }
          }
        ]
      },
      {
        "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
        "name": "13 - Filter: latency 120..220",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All latency within range', () => items.forEach(x => {",
                "  pm.expect(x.latency_ms).to.be.at.least(120);",
                "  pm.expect(x.latency_ms).to.be.at.most(220);",
                "}));"
              ],
              "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
            }
          }
        ]
      },
      {
        "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
        "name": "14 - Filter: time range 01:11..01:13",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "const after = Date.parse('2025-12-14T01:11:00Z');",
                "const before = Date.parse('2025-12-14T01:13:00Z');",
                "pm.test('All time within range', () => items.forEach(x => {",
                "  const t = Date.parse(x.time);",
                "  pm.expect(t).to.be.at.least(after);",
                "  pm.expect(t).to.be.at.most(before);",
                "}));"
              ],
              "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
            }
          }
        ]
      },
      {
        "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
        "name": "15 - Ordering: -time,latency_ms",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "for (let i = 0; i < items.length - 1; i++) {",
                "  const a = items[i];",
                "  const b = items[i + 1];",
                "  const ta = Date.parse(a.time);",
                "  const tb = Date.parse(b.time);",
                "  if (ta === tb) {",
                "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                "  } else {",
                "    pm.expect(ta).to.be.at.least(tb);",
                "  }",
                "}"
              ],
              "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
            }
          }
        ]
      },
      {
        "id": "f608e110-738f-46ae-9f30-c3a525af53de",
        "name": "20 - GET detail (id_b)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "c017a554-5874-40bd-a74b-a20b726fb050",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));"
              ],
              "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
            }
          }
        ]
      },
      {
        "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
        "name": "21 - PATCH update (id_b -> latency_ms=111)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "9885199f-9c25-4846-a9c6-506de23187bd",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
              ],
              "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
            }
          }
        ]
      },
      {
        "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
        "name": "90 - DELETE sample A",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_a}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
            }
          }
        ]
      },
      {
        "id": "23b61e03-0386-4f7f-947f-916630433ed2",
        "name": "91 - DELETE sample B",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
            }
          }
        ]
      },
      {
        "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
        "name": "92 - DELETE sample C",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_c}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
            }
          }
        ]
      }
    ],
    "event": [],
    "variable": [
      {
        "type": "string",
        "value": "https://{{app_host}}:{{app_https_port}}",
        "key": "base_url"
      },
      {
        "type": "string",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "string",
        "value": "8443",
        "key": "app_https_port"
      }
    ],
    "info": {
      "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
      "name": "APM Observability - Step 1 (CRUD + Filters)",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "description": {
        "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
        "type": "text/plain"
      }
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_using": "Newman"
    },
    "id": "dfe0af87-8c78-4d22-b21d-639b7ae2d41f",
    "name": "APM Observability - Main (Local)",
    "values": [
      {
        "type": "any",
        "value": "https://127.0.0.1:18444",
        "key": "base_url"
      },
      {
        "type": "any",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "any",
        "value": "18444",
        "key": "app_https_port"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_a"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_b"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_c"
      }
    ]
  },
  "globals": {
    "id": "2b4a1cd8-50e2-4a53-9aeb-10fe6e7043b3",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 14,
        "pending": 0,
        "failed": 14
      },
      "tests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 14,
        "pending": 0,
        "failed": 14
      },
      "testScripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequestScripts": {
        "total": 0,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 0,
      "responseMin": 0,
      "responseMax": 0,
      "responseSd": 0,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1766968117647,
      "completed": 1766968118684
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "3246e5a7-a74b-4b42-a846-408da6c15086",
          "httpRequestId": "4a6e8a08-7e17-4050-914a-c7331927e0a5"
        },
        "item": {
          "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "ec119c4d-314c-40a7-8e0b-38c3a2898976",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "4ff9deab-fe02-4f3e-a7db-56a5dd642e08",
              "timestamp": 1766968117840,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4a5c3a72-cee4-4d6e-9575-3e0583042d95",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "35ed582e-5241-4fde-98f2-195315824b43"
        },
        "item": {
          "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "1d5dfe5d-34a1-449f-b7ba-17c891041219",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "3699da2a-9f5c-4fde-9bd9-7202b2260e99",
              "timestamp": 1766968117889,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "fa83bbac-cd50-45b6-ba87-5938ced48c12",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0b4d1f27-ba81-44b6-882c-8a65766955c0"
        },
        "item": {
          "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "cebe7f31-dda2-4ad3-b459-041f73cf71dd",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "b0cec154-ed21-41e3-9f20-386dc410de01",
              "timestamp": 1766968117928,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "aa78ec6d-e5a7-44b3-b7e7-2a4064d03726",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "a317b308-8629-48d0-8a7c-0404275c870c"
        },
        "item": {
          "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "0fb08dc0-8170-4549-85ae-c5c8cdd10999",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "1e9a667c-4556-4657-8a5a-0c252e4dbb44",
              "timestamp": 1766968117962,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "6e992ef9-1d14-4dd8-9175-fca5b360b31f",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "dcd0e396-e732-4483-b303-369dffdffaf0"
        },
        "item": {
          "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "80d6edd7-e415-48b7-a7af-587ab8eb2d79",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "235572df-fe6c-47be-aea3-e99c13bbf7cc",
              "timestamp": 1766968118000,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "237d650f-a1be-43aa-8771-f676a42bb3bd",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "170a322d-91e1-409d-9970-1d7b26db9e03"
        },
        "item": {
          "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c418375b-99d9-4cf0-9ed9-9d2c623095b8",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "c8f62ffc-aaac-4f7c-9d53-fd9a3af7dc47",
              "timestamp": 1766968118030,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "b1d191c7-4c9d-4ecd-895e-05d8b35bef75",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "429569a8-b61d-4a5c-a29a-c281b57c1d31"
        },
        "item": {
          "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "79f66225-f7ba-4e1d-aa45-269cd977accb",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "ef19603e-bc79-4f14-9888-d58d1733b7ec",
              "timestamp": 1766968118075,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "36bd2b29-3235-486f-86ef-1e804848afea",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "10b582a8-cd73-4eed-8bca-47c1bd573653"
        },
        "item": {
          "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "9f6f15ca-9092-4427-a51e-39b69669ac92",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "5af963aa-b397-46ec-843f-310763f656a2",
              "timestamp": 1766968118114,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "ef8f68eb-2118-4bf4-854d-ecc25cea181f",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "86142b73-1fe8-4d35-9d52-141d9301fffb"
        },
        "item": {
          "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f4086270-03c6-4a2e-90c5-d8e3e7bc8eaf",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "361e9b4e-dfc1-402e-ab1e-bb7f4515a3c7",
              "timestamp": 1766968118217,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "d2e76f27-b6a3-42ca-900f-7e2a430389be",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "01bbd3e1-8364-4039-ad60-7211d6d6166e"
        },
        "item": {
          "id": "f608e110-738f-46ae-9f30-c3a525af53de",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "b220c784-d59f-4d5d-957b-e5abf6fcccf3",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "f608e110-738f-46ae-9f30-c3a525af53de",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "7a6a463b-1ef8-4e7a-9deb-d3661234109c",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1fc9eb00-6a8b-4a54-93b3-13b5d000b983"
        },
        "item": {
          "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c965337c-af81-4f5b-a6c3-cbbccbb9125d",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "233bf589-9130-4abd-84d8-5a2b23bc4ced",
              "timestamp": 1766968118387,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "8fab69ac-778a-467c-bbd7-44f17fd21fa4",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "1a3e0c28-2309-4aca-a576-738341eff2dd"
        },
        "item": {
          "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4cd18b05-ac24-408e-8cb1-64abbe2ab4c0",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "f2bd11a9-c8ce-4c76-b86f-a1b875fa75e9",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "1bd46976-30a4-45a3-ad53-8a3006430afb"
        },
        "item": {
          "id": "23b61e03-0386-4f7f-947f-916630433ed2",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a820946d-90ac-4bed-8ff5-579245d95b81",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "23b61e03-0386-4f7f-947f-916630433ed2",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "9a3b2759-9eb5-4b6f-af76-4f4c9b9e1628",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "e5e7bcbd-20f6-4247-9438-bb432d3e00cf"
        },
        "item": {
          "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6592da0a-0d6c-4457-8ae3-11de62aa5848",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 0
    },
    "failures": [
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "bb26e95f-1aa1-4201-a796-370785ec9f41",
          "timestamp": 1766968117784,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "ec119c4d-314c-40a7-8e0b-38c3a2898976",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "3246e5a7-a74b-4b42-a846-408da6c15086",
          "httpRequestId": "4a6e8a08-7e17-4050-914a-c7331927e0a5"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "67d7b41de87cc5a4030e984c2041f26b",
          "id": "03fa0809-fa4b-48de-af75-cf2df830fafe",
          "timestamp": 1766968117831,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "3246e5a7-a74b-4b42-a846-408da6c15086",
          "httpRequestId": "4a6e8a08-7e17-4050-914a-c7331927e0a5",
          "scriptId": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
          "execution": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "4ff9deab-fe02-4f3e-a7db-56a5dd642e08",
          "timestamp": 1766968117840,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "3246e5a7-a74b-4b42-a846-408da6c15086",
          "httpRequestId": "4a6e8a08-7e17-4050-914a-c7331927e0a5",
          "scriptId": "9f84ed01-a0dd-4cc2-a483-187c4956367d"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "ae2717af-4c60-4a09-8d7f-64802cabb9a8",
          "timestamp": 1766968117872,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "1d5dfe5d-34a1-449f-b7ba-17c891041219",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "4a5c3a72-cee4-4d6e-9575-3e0583042d95",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "35ed582e-5241-4fde-98f2-195315824b43"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "804ad9de9983fdfa9b9d91e7c6dba59c",
          "id": "42918faa-b7ad-434d-bc94-5f077007b87b",
          "timestamp": 1766968117882,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "4a5c3a72-cee4-4d6e-9575-3e0583042d95",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "35ed582e-5241-4fde-98f2-195315824b43",
          "scriptId": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
          "execution": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "3699da2a-9f5c-4fde-9bd9-7202b2260e99",
          "timestamp": 1766968117889,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "4a5c3a72-cee4-4d6e-9575-3e0583042d95",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "35ed582e-5241-4fde-98f2-195315824b43",
          "scriptId": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "5e0be608-7628-4f3e-bcab-c78784b41fc6",
          "timestamp": 1766968117908,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "cebe7f31-dda2-4ad3-b459-041f73cf71dd",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "fa83bbac-cd50-45b6-ba87-5938ced48c12",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0b4d1f27-ba81-44b6-882c-8a65766955c0"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "0d21052361d8241e41b572f170e08255",
          "id": "db014cf9-b70b-4a46-a8bb-ec4d4ff0c7b5",
          "timestamp": 1766968117923,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "fa83bbac-cd50-45b6-ba87-5938ced48c12",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0b4d1f27-ba81-44b6-882c-8a65766955c0",
          "scriptId": "473d8f39-3e8d-47e5-914d-05b45937c88a",
          "execution": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "b0cec154-ed21-41e3-9f20-386dc410de01",
          "timestamp": 1766968117928,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "fa83bbac-cd50-45b6-ba87-5938ced48c12",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0b4d1f27-ba81-44b6-882c-8a65766955c0",
          "scriptId": "473d8f39-3e8d-47e5-914d-05b45937c88a"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "6901a996-5398-47ee-bc63-55a8bf480a83",
          "timestamp": 1766968117946,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "0fb08dc0-8170-4549-85ae-c5c8cdd10999",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "aa78ec6d-e5a7-44b3-b7e7-2a4064d03726",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "a317b308-8629-48d0-8a7c-0404275c870c"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "13eef642ef5fef91a4d023d90dbab5d9",
          "id": "fe4899f3-11ce-4aa4-a4d3-aad51564995b",
          "timestamp": 1766968117956,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "aa78ec6d-e5a7-44b3-b7e7-2a4064d03726",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "a317b308-8629-48d0-8a7c-0404275c870c",
          "scriptId": "ed646370-716b-4c42-bd13-80c70a9380f4",
          "execution": "15c2e983-ea68-410c-9948-48563bfb9118"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "1e9a667c-4556-4657-8a5a-0c252e4dbb44",
          "timestamp": 1766968117962,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "aa78ec6d-e5a7-44b3-b7e7-2a4064d03726",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "a317b308-8629-48d0-8a7c-0404275c870c",
          "scriptId": "ed646370-716b-4c42-bd13-80c70a9380f4"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "6a09e57c-423a-4108-b3c9-11bfa290aed8",
          "timestamp": 1766968117982,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "80d6edd7-e415-48b7-a7af-587ab8eb2d79",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "6e992ef9-1d14-4dd8-9175-fca5b360b31f",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "dcd0e396-e732-4483-b303-369dffdffaf0"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "81863e971fc603c684f101e8a3caf6fe",
          "id": "436de601-c3ef-446a-b7c6-2f11b588daf0",
          "timestamp": 1766968117990,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "6e992ef9-1d14-4dd8-9175-fca5b360b31f",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "dcd0e396-e732-4483-b303-369dffdffaf0",
          "scriptId": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
          "execution": "6f220571-637c-4fd2-9426-9af4e90c2144"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "235572df-fe6c-47be-aea3-e99c13bbf7cc",
          "timestamp": 1766968118000,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "6e992ef9-1d14-4dd8-9175-fca5b360b31f",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "dcd0e396-e732-4483-b303-369dffdffaf0",
          "scriptId": "60e0b7d0-c64e-4452-9981-9b9ce17aec52"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "5d6d80c9-cd43-4108-9162-b33b05a1793e",
          "timestamp": 1766968118016,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "c418375b-99d9-4cf0-9ed9-9d2c623095b8",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "237d650f-a1be-43aa-8771-f676a42bb3bd",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "170a322d-91e1-409d-9970-1d7b26db9e03"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)",
          "checksum": "19fb65b25b7ee0226c79d26fb9bacf14",
          "id": "68fb785f-8c4f-4d4e-887d-90f1d6d3969a",
          "timestamp": 1766968118026,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "237d650f-a1be-43aa-8771-f676a42bb3bd",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "170a322d-91e1-409d-9970-1d7b26db9e03",
          "scriptId": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
          "execution": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "c8f62ffc-aaac-4f7c-9d53-fd9a3af7dc47",
          "timestamp": 1766968118030,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "237d650f-a1be-43aa-8771-f676a42bb3bd",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "170a322d-91e1-409d-9970-1d7b26db9e03",
          "scriptId": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "735226bb-f595-413d-a5c1-5330995c3570",
          "timestamp": 1766968118055,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "79f66225-f7ba-4e1d-aa45-269cd977accb",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "b1d191c7-4c9d-4ecd-895e-05d8b35bef75",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "429569a8-b61d-4a5c-a29a-c281b57c1d31"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)",
          "checksum": "f6e0ece6b57647a5e9d91a61297853da",
          "id": "a2b43bc3-6d3b-41df-89a6-23fbe9189cd6",
          "timestamp": 1766968118067,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "b1d191c7-4c9d-4ecd-895e-05d8b35bef75",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "429569a8-b61d-4a5c-a29a-c281b57c1d31",
          "scriptId": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
          "execution": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "ef19603e-bc79-4f14-9888-d58d1733b7ec",
          "timestamp": 1766968118075,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "b1d191c7-4c9d-4ecd-895e-05d8b35bef75",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "429569a8-b61d-4a5c-a29a-c281b57c1d31",
          "scriptId": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "10f0539c-156f-47fc-8274-0dd7e1ae84a0",
          "timestamp": 1766968118097,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "9f6f15ca-9092-4427-a51e-39b69669ac92",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "36bd2b29-3235-486f-86ef-1e804848afea",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "10b582a8-cd73-4eed-8bca-47c1bd573653"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)",
          "checksum": "85e111a6a0eb0e4643c561bb3353d792",
          "id": "63648a92-8b9d-482b-9eec-cdc6f327542b",
          "timestamp": 1766968118105,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "36bd2b29-3235-486f-86ef-1e804848afea",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "10b582a8-cd73-4eed-8bca-47c1bd573653",
          "scriptId": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
          "execution": "ca37d113-3742-4a3f-b442-faa59b303460"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "5af963aa-b397-46ec-843f-310763f656a2",
          "timestamp": 1766968118114,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "36bd2b29-3235-486f-86ef-1e804848afea",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "10b582a8-cd73-4eed-8bca-47c1bd573653",
          "scriptId": "c7df182f-3dd3-45fc-bc3c-64e87703be58"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "4f96e73b-3f5d-45f6-8407-e72aa3fb222a",
          "timestamp": 1766968118143,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "f4086270-03c6-4a2e-90c5-d8e3e7bc8eaf",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "ef8f68eb-2118-4bf4-854d-ecc25cea181f",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "86142b73-1fe8-4d35-9d52-141d9301fffb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)",
          "checksum": "e01061e1ff1d05bd55141de89c272b66",
          "id": "beba5b17-82b3-4552-b6cb-3e6943d84bf8",
          "timestamp": 1766968118183,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "ef8f68eb-2118-4bf4-854d-ecc25cea181f",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "86142b73-1fe8-4d35-9d52-141d9301fffb",
          "scriptId": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
          "execution": "e033f92b-1570-4d30-b572-aa4880df987c"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "361e9b4e-dfc1-402e-ab1e-bb7f4515a3c7",
          "timestamp": 1766968118217,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "ef8f68eb-2118-4bf4-854d-ecc25cea181f",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "86142b73-1fe8-4d35-9d52-141d9301fffb",
          "scriptId": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "3b04b672-d787-489a-9382-2f21c0750c55",
          "timestamp": 1766968118257,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "f608e110-738f-46ae-9f30-c3a525af53de",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "b220c784-d59f-4d5d-957b-e5abf6fcccf3",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "d2e76f27-b6a3-42ca-900f-7e2a430389be",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "01bbd3e1-8364-4039-ad60-7211d6d6166e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)",
          "checksum": "e3f8c986e778f24df296ec058823adc7",
          "id": "4153dc81-c11a-4e52-87dd-620ac53de81e",
          "timestamp": 1766968118286,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "f608e110-738f-46ae-9f30-c3a525af53de",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "d2e76f27-b6a3-42ca-900f-7e2a430389be",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "01bbd3e1-8364-4039-ad60-7211d6d6166e",
          "scriptId": "c017a554-5874-40bd-a74b-a20b726fb050",
          "execution": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "9484619b-1975-4ec3-8fcf-3a473be94f13",
          "timestamp": 1766968118329,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "c965337c-af81-4f5b-a6c3-cbbccbb9125d",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "7a6a463b-1ef8-4e7a-9deb-d3661234109c",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1fc9eb00-6a8b-4a54-93b3-13b5d000b983"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)",
          "checksum": "ed104d0cfe2da2d0bf8daa8a2556b309",
          "id": "a4c55a92-451c-4119-a936-b95c5e00f08c",
          "timestamp": 1766968118368,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "7a6a463b-1ef8-4e7a-9deb-d3661234109c",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1fc9eb00-6a8b-4a54-93b3-13b5d000b983",
          "scriptId": "9885199f-9c25-4846-a9c6-506de23187bd",
          "execution": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "233bf589-9130-4abd-84d8-5a2b23bc4ced",
          "timestamp": 1766968118387,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "7a6a463b-1ef8-4e7a-9deb-d3661234109c",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1fc9eb00-6a8b-4a54-93b3-13b5d000b983",
          "scriptId": "9885199f-9c25-4846-a9c6-506de23187bd"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "d53d806c-cdf8-477a-9449-cc7bb3f5b427",
          "timestamp": 1766968118439,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "4cd18b05-ac24-408e-8cb1-64abbe2ab4c0",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "8fab69ac-778a-467c-bbd7-44f17fd21fa4",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "1a3e0c28-2309-4aca-a576-738341eff2dd"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)",
          "checksum": "5b0f115a5bcc90517d883d812c35d49b",
          "id": "4b8accec-9731-4f91-8fa0-2bc035247bb7",
          "timestamp": 1766968118452,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "8fab69ac-778a-467c-bbd7-44f17fd21fa4",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "1a3e0c28-2309-4aca-a576-738341eff2dd",
          "scriptId": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
          "execution": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "b6030a5b-1f55-4127-8056-7669db37ffce",
          "timestamp": 1766968118509,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "23b61e03-0386-4f7f-947f-916630433ed2",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "a820946d-90ac-4bed-8ff5-579245d95b81",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "f2bd11a9-c8ce-4c76-b86f-a1b875fa75e9",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "1bd46976-30a4-45a3-ad53-8a3006430afb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)",
          "checksum": "5abd61c71006ae2baba2465b9af20643",
          "id": "fa1ee757-6f44-40f0-bb5f-c65f8ae7b6a0",
          "timestamp": 1766968118557,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "23b61e03-0386-4f7f-947f-916630433ed2",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "f2bd11a9-c8ce-4c76-b86f-a1b875fa75e9",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "1bd46976-30a4-45a3-ad53-8a3006430afb",
          "scriptId": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
          "execution": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "8f338263-e4d6-4688-9e15-57d86b2c6a62",
          "timestamp": 1766968118616,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "6592da0a-0d6c-4457-8ae3-11de62aa5848",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "9a3b2759-9eb5-4b6f-af76-4f4c9b9e1628",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "e5e7bcbd-20f6-4247-9438-bb432d3e00cf"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)",
          "checksum": "1445c3228a92c0bb7ec81b4ccb77c3af",
          "id": "30b9449b-f332-45f1-9fe3-cdec27b21d6d",
          "timestamp": 1766968118623,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "5119ad0c-0d93-44ad-9512-bc674e7ba3fd",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9f84ed01-a0dd-4cc2-a483-187c4956367d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "be80eb70-b2d6-4abe-94c7-fc6114741e2e"
                  }
                }
              ]
            },
            {
              "id": "ed09fbc5-8e49-41b8-93a0-58f9d5e4f8d6",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "158bc7a9-bf83-497f-b6cf-3f23f2cbd95f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "17507d4e-f83c-4bf1-b9da-83c3e8f0cd67"
                  }
                }
              ]
            },
            {
              "id": "640068f8-2e84-469a-bed0-494ff7d87e9c",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "473d8f39-3e8d-47e5-914d-05b45937c88a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d92937d4-5087-467b-a9e8-e86fa2ae8476"
                  }
                }
              ]
            },
            {
              "id": "c6500049-fd6f-4e23-8737-ed9b8ec7e926",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "ed646370-716b-4c42-bd13-80c70a9380f4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "15c2e983-ea68-410c-9948-48563bfb9118"
                  }
                }
              ]
            },
            {
              "id": "7e901754-37ec-4f83-a953-e6e8b9d6b21c",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "60e0b7d0-c64e-4452-9981-9b9ce17aec52",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "6f220571-637c-4fd2-9426-9af4e90c2144"
                  }
                }
              ]
            },
            {
              "id": "92bb2108-304a-4a1b-b03d-406c76addca7",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "291eb5d8-b60c-47f4-ba74-b7c7ec6926c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "1e275c99-1f72-4b4a-8f3b-3517b9d4dcf8"
                  }
                }
              ]
            },
            {
              "id": "9455dd35-8d6a-4ec7-81d5-71c18a46459b",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "950cb8e2-8766-4d1e-b9b8-caddb6e80b7c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "c4b54987-b21b-40a0-bc04-174c4da7e19f"
                  }
                }
              ]
            },
            {
              "id": "e38b92e2-3101-46ed-99b2-038e7f86f0a2",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c7df182f-3dd3-45fc-bc3c-64e87703be58",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "ca37d113-3742-4a3f-b442-faa59b303460"
                  }
                }
              ]
            },
            {
              "id": "fafb9657-1be2-4cc2-97e3-b91f7cc4aabe",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cf74e38e-e89d-4a8c-9c30-7c9c7377577b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "e033f92b-1570-4d30-b572-aa4880df987c"
                  }
                }
              ]
            },
            {
              "id": "f608e110-738f-46ae-9f30-c3a525af53de",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c017a554-5874-40bd-a74b-a20b726fb050",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "b0cdbcfe-fe0e-481b-b39b-5420cbb2ef13"
                  }
                }
              ]
            },
            {
              "id": "2e02ab1e-1593-40ad-b84b-0531ac6a5713",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9885199f-9c25-4846-a9c6-506de23187bd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "4f5e2939-7cc7-43bc-98a8-1c97cb5c80f4"
                  }
                }
              ]
            },
            {
              "id": "52cfc3c2-df5b-4d5f-915a-565137927242",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7784ae3c-06fb-4f53-b51b-a7f660deeec3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7375be25-6353-4ab8-b604-4bff19ccd5f6"
                  }
                }
              ]
            },
            {
              "id": "23b61e03-0386-4f7f-947f-916630433ed2",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "76f47fa8-0a64-40b5-9311-dd9ed11f6b8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "a8e1d607-bc0f-455e-82a3-d75c57c00bc9"
                  }
                }
              ]
            },
            {
              "id": "8427e76e-a7f1-4b58-8b7d-e7e4bcb70430",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "5b07b1c5-334f-463f-a004-426f16161525"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "9a3b2759-9eb5-4b6f-af76-4f4c9b9e1628",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "e5e7bcbd-20f6-4247-9438-bb432d3e00cf",
          "scriptId": "0cb53c96-ab22-486c-849e-ec49fe14f95b",
          "execution": "5b07b1c5-334f-463f-a004-426f16161525"
        }
      }
    ],
    "error": null
  }
}