{
  "collection": {
    "_": {
      "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
    },
    "item": [
      {
        "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
        "name": "00 - Create sample A (older time, 500)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_a', body.id);"
              ],
              "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
            }
          }
        ]
      },
      {
        "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
        "name": "01 - Create sample B (newer time, latency 100)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_b', body.id);"
              ],
              "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
            }
          }
        ]
      },
      {
        "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
        "name": "02 - Create sample C (newer time, latency 200)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_c', body.id);"
              ],
              "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
            }
          }
        ]
      },
      {
        "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
        "name": "10 - GET list (default ordering -time)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "1a7051a1-8a59-4557-8b68-239d05302159",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "if (items.length >= 2) {",
                "  const t0 = Date.parse(items[0].time);",
                "  const t1 = Date.parse(items[1].time);",
                "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                "}"
              ],
              "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
            }
          }
        ]
      },
      {
        "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
        "name": "11 - Filter: service=auth",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
              ],
              "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
            }
          }
        ]
      },
      {
        "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
        "name": "12 - Filter: status_code=500",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
              ],
              "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
            }
          }
        ]
      },
      {
        "id": "ec6d6489-c5a6-4731-9322-91683271062e",
        "name": "13 - Filter: latency 120..220",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All latency within range', () => items.forEach(x => {",
                "  pm.expect(x.latency_ms).to.be.at.least(120);",
                "  pm.expect(x.latency_ms).to.be.at.most(220);",
                "}));"
              ],
              "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
            }
          }
        ]
      },
      {
        "id": "7c8542af-89e4-4f83-928f-95217a53e461",
        "name": "14 - Filter: time range 01:11..01:13",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "const after = Date.parse('2025-12-14T01:11:00Z');",
                "const before = Date.parse('2025-12-14T01:13:00Z');",
                "pm.test('All time within range', () => items.forEach(x => {",
                "  const t = Date.parse(x.time);",
                "  pm.expect(t).to.be.at.least(after);",
                "  pm.expect(t).to.be.at.most(before);",
                "}));"
              ],
              "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
            }
          }
        ]
      },
      {
        "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
        "name": "15 - Ordering: -time,latency_ms",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "for (let i = 0; i < items.length - 1; i++) {",
                "  const a = items[i];",
                "  const b = items[i + 1];",
                "  const ta = Date.parse(a.time);",
                "  const tb = Date.parse(b.time);",
                "  if (ta === tb) {",
                "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                "  } else {",
                "    pm.expect(ta).to.be.at.least(tb);",
                "  }",
                "}"
              ],
              "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
            }
          }
        ]
      },
      {
        "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
        "name": "20 - GET detail (id_b)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));"
              ],
              "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
            }
          }
        ]
      },
      {
        "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
        "name": "21 - PATCH update (id_b -> latency_ms=111)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
              ],
              "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
            }
          }
        ]
      },
      {
        "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
        "name": "90 - DELETE sample A",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_a}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
            }
          }
        ]
      },
      {
        "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
        "name": "91 - DELETE sample B",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
            }
          }
        ]
      },
      {
        "id": "d1a30730-b161-412e-9809-c26a130c32e9",
        "name": "92 - DELETE sample C",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_c}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
            }
          }
        ]
      }
    ],
    "event": [],
    "variable": [
      {
        "type": "string",
        "value": "https://{{app_host}}:{{app_https_port}}",
        "key": "base_url"
      },
      {
        "type": "string",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "string",
        "value": "8443",
        "key": "app_https_port"
      }
    ],
    "info": {
      "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
      "name": "APM Observability - Step 1 (CRUD + Filters)",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "description": {
        "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
        "type": "text/plain"
      }
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_using": "Newman"
    },
    "id": "5b8f8d7d-e14c-434e-9cfc-2b20a898c49d",
    "name": "APM Observability - Main (Local)",
    "values": [
      {
        "type": "any",
        "value": "https://127.0.0.1:18444",
        "key": "base_url"
      },
      {
        "type": "any",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "any",
        "value": "18444",
        "key": "app_https_port"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_a"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_b"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_c"
      }
    ]
  },
  "globals": {
    "id": "e9745916-5548-46b0-88d8-cfdbe4667928",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 14,
        "pending": 0,
        "failed": 14
      },
      "tests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 14,
        "pending": 0,
        "failed": 14
      },
      "testScripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequestScripts": {
        "total": 0,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 0,
      "responseMin": 0,
      "responseMax": 0,
      "responseSd": 0,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1766967932596,
      "completed": 1766967933565
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "169485a6-23a1-4cd7-bf41-15963646bbe0",
          "httpRequestId": "a72416c9-ad72-44fd-81a1-b7f094558c39"
        },
        "item": {
          "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "3dcb8eb8-9436-49b5-b762-e5d4a1029a0a",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "e1b275fe-8405-4cd2-a310-1d9906aa86a4",
              "timestamp": 1766967932815,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3873aa29-ab17-477b-90d0-93a4b88100b9",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "72fd1a31-48d9-46f9-87c9-ae301b51333f"
        },
        "item": {
          "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "52c46ae7-6ece-4369-84ae-75492c19f77e",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "637a59cd-292d-4bd5-ae95-94321c8825ed",
              "timestamp": 1766967932871,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "04d6d607-f826-41db-94a2-3165bc6e5c0d",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "592cc40d-9770-4d80-937b-eb3662202de7"
        },
        "item": {
          "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f170611a-578f-4668-b2be-b5140bd60d98",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "dc61b2f8-5fe0-44ab-bdcf-790c2e3f016d",
              "timestamp": 1766967932905,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "aa835054-9821-48f9-9494-624da9a02ffd",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "ebf79c01-5717-416a-9570-e494ebf79eb9"
        },
        "item": {
          "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "38e92509-f0f8-47f4-9219-65aaca12f94e",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "e006f90d-1fc8-4e12-906e-264055629cd1",
              "timestamp": 1766967932955,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "9ebbf7b8-c730-46ee-b1f5-5ea5bdfca11e",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "12516d46-8c09-44a0-aef3-6c1dfd508ff4"
        },
        "item": {
          "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "39c61dcb-a8fa-44a4-bb7a-1a13805967aa",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "d5f7cdb5-40d0-4238-8f72-15bf81d28e27",
              "timestamp": 1766967933003,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "a2ad4a71-0f64-4bb0-8038-a13b9fe159d1",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "c34b224c-955e-4b81-94bc-84849ae031a3"
        },
        "item": {
          "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "53bd11e1-28e0-4a6f-b3f3-09ba2ac805f3",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "726d7e25-6bfd-4f86-9702-4fb157661e7d",
              "timestamp": 1766967933087,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "028f9740-0e81-4c94-94fb-dfc6a6793a9a",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "a170c9eb-fcfc-469f-9038-5672b3a655d1"
        },
        "item": {
          "id": "ec6d6489-c5a6-4731-9322-91683271062e",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4876be21-0e02-4c4f-bb59-ff372df0a19c",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "ec6d6489-c5a6-4731-9322-91683271062e",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "788d517e-f977-4c35-befe-70ecf9c3eebd",
              "timestamp": 1766967933126,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "c4685114-c6f3-4dce-bd80-483bb70332e0",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "888ba063-3495-4a21-840e-7630c005424a"
        },
        "item": {
          "id": "7c8542af-89e4-4f83-928f-95217a53e461",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "b16c06ae-8672-4d83-b794-bb936d0eb126",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "7c8542af-89e4-4f83-928f-95217a53e461",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "dca0c768-a292-4e29-9139-31e92d83b531",
              "timestamp": 1766967933190,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "68dd27f4-570c-431f-98ae-476b97961d86",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "1e1f6da6-8de8-4701-8ebe-63868edcb04f"
        },
        "item": {
          "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "50d20a4d-2a32-4801-9013-d9219ccc3064",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "ae333c2d-33e1-41bb-b32a-16b57cb97a0b",
              "timestamp": 1766967933295,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "2076d353-27b9-4554-a26d-9b9db6abcf28",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "6f67ebdf-22a6-4687-95ec-300a6156daea"
        },
        "item": {
          "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d75fec21-57af-409f-aba3-7b083deb0a86",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "bd1ec98e-08ff-454c-b718-9b9104e74956",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "2ceefbbe-ec4c-48da-b6cb-55ecb71b9341"
        },
        "item": {
          "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6eb8a6fa-8256-4892-a33d-86dee50da299",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "\"undefined\" is not valid JSON",
              "checksum": "4db15f4d7d3ae61b799898db95379b99",
              "id": "10ca2150-be62-457a-8f77-75abaa358171",
              "timestamp": 1766967933386,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "1cb318d5-ba4d-4ad5-8006-867ce569f8a2",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "84da86b4-a185-42d0-bc95-28735c32aba9"
        },
        "item": {
          "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "8cbb1736-f3e4-4788-819b-3ea8e57977e5",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "ecd04b38-a1ea-49be-bcb6-b76d347d5220",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "ffa8867d-3b6c-435b-b3e2-85e34bebed1a"
        },
        "item": {
          "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "b75824fc-afe0-4aa7-97d5-b0917a91fa41",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "220c3a43-c469-40ce-b47a-62fadb42b24f",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "e533f6da-2117-47e0-afbb-b51154ec801b"
        },
        "item": {
          "id": "d1a30730-b161-412e-9809-c26a130c32e9",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18444",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d0a4f2e4-536f-4c75-8563-c57c922300bc",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18444",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "d1a30730-b161-412e-9809-c26a130c32e9",
        "requestError": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444
        },
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 0
    },
    "failures": [
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "d94b0c4a-d54b-4e3d-8fd0-f57eea41ddae",
          "timestamp": 1766967932747,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "3dcb8eb8-9436-49b5-b762-e5d4a1029a0a",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "169485a6-23a1-4cd7-bf41-15963646bbe0",
          "httpRequestId": "a72416c9-ad72-44fd-81a1-b7f094558c39"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "67d7b41de87cc5a4030e984c2041f26b",
          "id": "7be2102c-66e6-4276-9465-5b9901140060",
          "timestamp": 1766967932802,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "169485a6-23a1-4cd7-bf41-15963646bbe0",
          "httpRequestId": "a72416c9-ad72-44fd-81a1-b7f094558c39",
          "scriptId": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
          "execution": "cda755a4-b8cd-4616-bc68-18a762db0275"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "e1b275fe-8405-4cd2-a310-1d9906aa86a4",
          "timestamp": 1766967932815,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "169485a6-23a1-4cd7-bf41-15963646bbe0",
          "httpRequestId": "a72416c9-ad72-44fd-81a1-b7f094558c39",
          "scriptId": "f1b5e9b1-788c-423a-bd8d-443b96c125c2"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "10e4a731-7dbf-4332-9dee-a4a471168c2e",
          "timestamp": 1766967932856,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "52c46ae7-6ece-4369-84ae-75492c19f77e",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "3873aa29-ab17-477b-90d0-93a4b88100b9",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "72fd1a31-48d9-46f9-87c9-ae301b51333f"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "804ad9de9983fdfa9b9d91e7c6dba59c",
          "id": "57d80ee6-f50e-4a63-84bd-9686a0986237",
          "timestamp": 1766967932863,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "3873aa29-ab17-477b-90d0-93a4b88100b9",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "72fd1a31-48d9-46f9-87c9-ae301b51333f",
          "scriptId": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
          "execution": "1cd62b71-1605-4006-b635-0dfa8799b666"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "637a59cd-292d-4bd5-ae95-94321c8825ed",
          "timestamp": 1766967932871,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "3873aa29-ab17-477b-90d0-93a4b88100b9",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "72fd1a31-48d9-46f9-87c9-ae301b51333f",
          "scriptId": "bc83448f-ede3-4c23-89d6-90fe8d0e5894"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "57203916-3358-4769-bca6-c1a255c620a0",
          "timestamp": 1766967932883,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "f170611a-578f-4668-b2be-b5140bd60d98",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "04d6d607-f826-41db-94a2-3165bc6e5c0d",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "592cc40d-9770-4d80-937b-eb3662202de7"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "0d21052361d8241e41b572f170e08255",
          "id": "57f97ab0-6224-4a68-b756-4a58cca14a99",
          "timestamp": 1766967932893,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "04d6d607-f826-41db-94a2-3165bc6e5c0d",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "592cc40d-9770-4d80-937b-eb3662202de7",
          "scriptId": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
          "execution": "d465a600-7ff7-4623-a663-26253e793189"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "dc61b2f8-5fe0-44ab-bdcf-790c2e3f016d",
          "timestamp": 1766967932905,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "04d6d607-f826-41db-94a2-3165bc6e5c0d",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "592cc40d-9770-4d80-937b-eb3662202de7",
          "scriptId": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "6828f521-7042-4146-8e39-28b6a9c0ce1f",
          "timestamp": 1766967932934,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "38e92509-f0f8-47f4-9219-65aaca12f94e",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "aa835054-9821-48f9-9494-624da9a02ffd",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "ebf79c01-5717-416a-9570-e494ebf79eb9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "13eef642ef5fef91a4d023d90dbab5d9",
          "id": "a566fdee-fc07-416f-b98a-1208185057a5",
          "timestamp": 1766967932949,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "aa835054-9821-48f9-9494-624da9a02ffd",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "ebf79c01-5717-416a-9570-e494ebf79eb9",
          "scriptId": "1a7051a1-8a59-4557-8b68-239d05302159",
          "execution": "bde3281b-6782-4ea7-8f28-c11539cc7626"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "e006f90d-1fc8-4e12-906e-264055629cd1",
          "timestamp": 1766967932955,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "aa835054-9821-48f9-9494-624da9a02ffd",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "ebf79c01-5717-416a-9570-e494ebf79eb9",
          "scriptId": "1a7051a1-8a59-4557-8b68-239d05302159"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "71efe45b-b526-4d02-8a22-e04138a5fdc4",
          "timestamp": 1766967932985,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "39c61dcb-a8fa-44a4-bb7a-1a13805967aa",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "9ebbf7b8-c730-46ee-b1f5-5ea5bdfca11e",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "12516d46-8c09-44a0-aef3-6c1dfd508ff4"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "81863e971fc603c684f101e8a3caf6fe",
          "id": "71385a48-4b3c-4aaa-b2c1-e25cc44d8659",
          "timestamp": 1766967933001,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "9ebbf7b8-c730-46ee-b1f5-5ea5bdfca11e",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "12516d46-8c09-44a0-aef3-6c1dfd508ff4",
          "scriptId": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
          "execution": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "d5f7cdb5-40d0-4238-8f72-15bf81d28e27",
          "timestamp": 1766967933003,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "9ebbf7b8-c730-46ee-b1f5-5ea5bdfca11e",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "12516d46-8c09-44a0-aef3-6c1dfd508ff4",
          "scriptId": "8fdd08fb-d910-494b-a97b-c457e2a76eab"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "6c718281-a8f9-4812-a9fa-94264b4e7265",
          "timestamp": 1766967933039,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "53bd11e1-28e0-4a6f-b3f3-09ba2ac805f3",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "a2ad4a71-0f64-4bb0-8038-a13b9fe159d1",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "c34b224c-955e-4b81-94bc-84849ae031a3"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)",
          "checksum": "19fb65b25b7ee0226c79d26fb9bacf14",
          "id": "478f1898-4cd7-4e6f-bd9a-42578c8f2fc3",
          "timestamp": 1766967933082,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "a2ad4a71-0f64-4bb0-8038-a13b9fe159d1",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "c34b224c-955e-4b81-94bc-84849ae031a3",
          "scriptId": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
          "execution": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "726d7e25-6bfd-4f86-9702-4fb157661e7d",
          "timestamp": 1766967933087,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "a2ad4a71-0f64-4bb0-8038-a13b9fe159d1",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "c34b224c-955e-4b81-94bc-84849ae031a3",
          "scriptId": "e6c7a666-269c-4d7c-bd10-6cd88c615031"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "2de8e8ff-3e6e-45fa-984b-49767f9f7094",
          "timestamp": 1766967933111,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "ec6d6489-c5a6-4731-9322-91683271062e",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "4876be21-0e02-4c4f-bb59-ff372df0a19c",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "028f9740-0e81-4c94-94fb-dfc6a6793a9a",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "a170c9eb-fcfc-469f-9038-5672b3a655d1"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)",
          "checksum": "f6e0ece6b57647a5e9d91a61297853da",
          "id": "e2b1c78f-0d92-46bf-b29c-c033c65aaa47",
          "timestamp": 1766967933123,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "ec6d6489-c5a6-4731-9322-91683271062e",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "028f9740-0e81-4c94-94fb-dfc6a6793a9a",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "a170c9eb-fcfc-469f-9038-5672b3a655d1",
          "scriptId": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
          "execution": "2c3de913-9d70-417c-9db2-abc23e011235"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "788d517e-f977-4c35-befe-70ecf9c3eebd",
          "timestamp": 1766967933126,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "ec6d6489-c5a6-4731-9322-91683271062e",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "028f9740-0e81-4c94-94fb-dfc6a6793a9a",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "a170c9eb-fcfc-469f-9038-5672b3a655d1",
          "scriptId": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "024f927b-47a5-4b1e-9290-378113620789",
          "timestamp": 1766967933156,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "7c8542af-89e4-4f83-928f-95217a53e461",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "b16c06ae-8672-4d83-b794-bb936d0eb126",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "c4685114-c6f3-4dce-bd80-483bb70332e0",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "888ba063-3495-4a21-840e-7630c005424a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)",
          "checksum": "85e111a6a0eb0e4643c561bb3353d792",
          "id": "b1e30b6c-9982-4fb5-9b3e-9458c719b400",
          "timestamp": 1766967933185,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "7c8542af-89e4-4f83-928f-95217a53e461",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "c4685114-c6f3-4dce-bd80-483bb70332e0",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "888ba063-3495-4a21-840e-7630c005424a",
          "scriptId": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
          "execution": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "dca0c768-a292-4e29-9139-31e92d83b531",
          "timestamp": 1766967933190,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "7c8542af-89e4-4f83-928f-95217a53e461",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "c4685114-c6f3-4dce-bd80-483bb70332e0",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "888ba063-3495-4a21-840e-7630c005424a",
          "scriptId": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "dee94f78-3abd-4bb3-a19b-62ce018fc0e6",
          "timestamp": 1766967933218,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "50d20a4d-2a32-4801-9013-d9219ccc3064",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "68dd27f4-570c-431f-98ae-476b97961d86",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "1e1f6da6-8de8-4701-8ebe-63868edcb04f"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)",
          "checksum": "e01061e1ff1d05bd55141de89c272b66",
          "id": "47f2bdd2-fe09-4881-9eae-cc12e52f7c68",
          "timestamp": 1766967933242,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "68dd27f4-570c-431f-98ae-476b97961d86",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "1e1f6da6-8de8-4701-8ebe-63868edcb04f",
          "scriptId": "3c913955-c4d5-441e-9990-c44d0adda93f",
          "execution": "00a0cc56-d74f-4857-b406-9838b38d647e"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "ae333c2d-33e1-41bb-b32a-16b57cb97a0b",
          "timestamp": 1766967933295,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "68dd27f4-570c-431f-98ae-476b97961d86",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "1e1f6da6-8de8-4701-8ebe-63868edcb04f",
          "scriptId": "3c913955-c4d5-441e-9990-c44d0adda93f"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "a5210b1a-14cb-4de4-ab73-95d8637189e5",
          "timestamp": 1766967933325,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "d75fec21-57af-409f-aba3-7b083deb0a86",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "2076d353-27b9-4554-a26d-9b9db6abcf28",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "6f67ebdf-22a6-4687-95ec-300a6156daea"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)",
          "checksum": "e3f8c986e778f24df296ec058823adc7",
          "id": "eb092d1b-51eb-47ea-994b-74eaf1486ffd",
          "timestamp": 1766967933346,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "2076d353-27b9-4554-a26d-9b9db6abcf28",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "6f67ebdf-22a6-4687-95ec-300a6156daea",
          "scriptId": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
          "execution": "06c87b93-62af-478d-ba2e-10ce75f00a39"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "b25281ad-8f0b-404a-a916-51100c3e33d3",
          "timestamp": 1766967933377,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "6eb8a6fa-8256-4892-a33d-86dee50da299",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "bd1ec98e-08ff-454c-b718-9b9104e74956",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "2ceefbbe-ec4c-48da-b6cb-55ecb71b9341"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)",
          "checksum": "ed104d0cfe2da2d0bf8daa8a2556b309",
          "id": "55da9790-6952-439d-a032-6b2c1c677a33",
          "timestamp": 1766967933383,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "bd1ec98e-08ff-454c-b718-9b9104e74956",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "2ceefbbe-ec4c-48da-b6cb-55ecb71b9341",
          "scriptId": "d90cb91f-3d30-4f1a-aef5-38607491416a",
          "execution": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "\"undefined\" is not valid JSON",
          "checksum": "4db15f4d7d3ae61b799898db95379b99",
          "id": "10ca2150-be62-457a-8f77-75abaa358171",
          "timestamp": 1766967933386,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "bd1ec98e-08ff-454c-b718-9b9104e74956",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "2ceefbbe-ec4c-48da-b6cb-55ecb71b9341",
          "scriptId": "d90cb91f-3d30-4f1a-aef5-38607491416a"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "1e2431e3-a321-4761-a376-b9fb365263b0",
          "timestamp": 1766967933424,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "8cbb1736-f3e4-4788-819b-3ea8e57977e5",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "1cb318d5-ba4d-4ad5-8006-867ce569f8a2",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "84da86b4-a185-42d0-bc95-28735c32aba9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:12)",
          "checksum": "5b0f115a5bcc90517d883d812c35d49b",
          "id": "99a2c1a8-db6b-4698-80c1-78724b9f1a23",
          "timestamp": 1766967933430,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "1cb318d5-ba4d-4ad5-8006-867ce569f8a2",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "84da86b4-a185-42d0-bc95-28735c32aba9",
          "scriptId": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
          "execution": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "22e5854a-59dc-46cd-be5f-958e6dda4099",
          "timestamp": 1766967933457,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "b75824fc-afe0-4aa7-97d5-b0917a91fa41",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "ecd04b38-a1ea-49be-bcb6-b76d347d5220",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "ffa8867d-3b6c-435b-b3e2-85e34bebed1a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)",
          "checksum": "5abd61c71006ae2baba2465b9af20643",
          "id": "b512a064-2da4-4fc1-a3ba-cd6581d71a7b",
          "timestamp": 1766967933473,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "ecd04b38-a1ea-49be-bcb6-b76d347d5220",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "ffa8867d-3b6c-435b-b3e2-85e34bebed1a",
          "scriptId": "cb27d22e-3f98-40bc-a856-236d817a706b",
          "execution": "64bf9595-bf52-4276-aee2-c70fea070fd7"
        }
      },
      {
        "error": {
          "errno": -61,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 18444,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:18444",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:18444\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)",
          "checksum": "3319c5c6a8db9deaa9de04ff1a3c5cad",
          "id": "075ff54b-3c6f-4d72-9b9b-91e52052ae04",
          "timestamp": 1766967933541,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1637,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "d1a30730-b161-412e-9809-c26a130c32e9",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "protocol": "https",
              "port": "18444",
              "path": [
                "api",
                "requests",
                "",
                ""
              ],
              "host": [
                "127",
                "0",
                "0",
                "1"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "d0a4f2e4-536f-4c75-8563-c57c922300bc",
                "system": true
              },
              {
                "key": "Host",
                "value": "127.0.0.1:18444",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "220c3a43-c469-40ce-b47a-62fadb42b24f",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "e533f6da-2117-47e0-afbb-b51154ec801b"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)",
          "checksum": "1445c3228a92c0bb7ec81b4ccb77c3af",
          "id": "5b9ff2b9-27d2-4e81-bdd3-673779a14b44",
          "timestamp": 1766967933558,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d1a30730-b161-412e-9809-c26a130c32e9",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "288ec9fc-5d70-4baf-a6ae-a67272bbb86f",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f1b5e9b1-788c-423a-bd8d-443b96c125c2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "cda755a4-b8cd-4616-bc68-18a762db0275"
                  }
                }
              ]
            },
            {
              "id": "d4ae52c1-64f6-49b5-9175-574556a896ed",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "bc83448f-ede3-4c23-89d6-90fe8d0e5894",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "1cd62b71-1605-4006-b635-0dfa8799b666"
                  }
                }
              ]
            },
            {
              "id": "ab7148e2-17ab-49cf-9f83-3550d2eab87a",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5fd0fbec-9ae9-4823-9fee-910046f1ebd0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "d465a600-7ff7-4623-a663-26253e793189"
                  }
                }
              ]
            },
            {
              "id": "9abb78b7-ca80-4121-940c-ccb43ff0f5c0",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1a7051a1-8a59-4557-8b68-239d05302159",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "bde3281b-6782-4ea7-8f28-c11539cc7626"
                  }
                }
              ]
            },
            {
              "id": "c8a20bfe-b9b9-41fb-869a-8956d82d6a96",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8fdd08fb-d910-494b-a97b-c457e2a76eab",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "ea428511-00e5-4f2a-b0c7-6e60a14aab1e"
                  }
                }
              ]
            },
            {
              "id": "37e12f61-57c6-49bf-af25-9868b73bb14e",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e6c7a666-269c-4d7c-bd10-6cd88c615031",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "b09c73f3-7e52-4bfa-9eca-cdcb2f48f5ed"
                  }
                }
              ]
            },
            {
              "id": "ec6d6489-c5a6-4731-9322-91683271062e",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "02aa6b69-3e73-4ed6-b1c4-b6339ad450a3",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "2c3de913-9d70-417c-9db2-abc23e011235"
                  }
                }
              ]
            },
            {
              "id": "7c8542af-89e4-4f83-928f-95217a53e461",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9ce0a29c-8d25-4dc8-be89-fe0247ac5b43",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "dacfca2a-604e-41c6-9ad6-83ec86a6dbaf"
                  }
                }
              ]
            },
            {
              "id": "2bd6ea3a-4889-4b37-b437-72d174bc10e6",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3c913955-c4d5-441e-9990-c44d0adda93f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "00a0cc56-d74f-4857-b406-9838b38d647e"
                  }
                }
              ]
            },
            {
              "id": "c14355a8-b862-4208-bbed-e4a00aaf1ef6",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "8ac87925-c1e0-4065-a077-fc7dc23bb8c9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "06c87b93-62af-478d-ba2e-10ce75f00a39"
                  }
                }
              ]
            },
            {
              "id": "76b5922d-8411-49c6-9be9-74d39b91b648",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d90cb91f-3d30-4f1a-aef5-38607491416a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "cba6ec3f-f870-41b7-bdad-3b94bbffa8bb"
                  }
                }
              ]
            },
            {
              "id": "1ebb6ea9-ae5a-4cf6-9e70-dab385f2e4cf",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c21828e3-82a8-4ca6-81b3-e991340b7c39",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "7b2ac86f-813f-4acc-9b3a-f4d2892a04ed"
                  }
                }
              ]
            },
            {
              "id": "14cdeee5-1703-4e26-af2d-dd5d0bf342d9",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "cb27d22e-3f98-40bc-a856-236d817a706b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "64bf9595-bf52-4276-aee2-c70fea070fd7"
                  }
                }
              ]
            },
            {
              "id": "d1a30730-b161-412e-9809-c26a130c32e9",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "db522442-e05e-43df-b515-5b9fe8296368"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "220c3a43-c469-40ce-b47a-62fadb42b24f",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "e533f6da-2117-47e0-afbb-b51154ec801b",
          "scriptId": "d1cd9e3f-449c-4349-91bc-b034a9b3a5fd",
          "execution": "db522442-e05e-43df-b515-5b9fe8296368"
        }
      }
    ],
    "error": null
  }
}