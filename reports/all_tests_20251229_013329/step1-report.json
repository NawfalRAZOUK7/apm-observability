{
  "collection": {
    "_": {
      "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
    },
    "item": [
      {
        "id": "e8294360-6175-4712-9eea-56457096ffa0",
        "name": "00 - Create sample A (older time, 500)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_a', body.id);"
              ],
              "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
            }
          }
        ]
      },
      {
        "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
        "name": "01 - Create sample B (newer time, latency 100)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_b', body.id);"
              ],
              "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
            }
          }
        ]
      },
      {
        "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
        "name": "02 - Create sample C (newer time, latency 200)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 201', () => pm.response.to.have.status(201));",
                "const body = pm.response.json();",
                "pm.environment.set('id_c', body.id);"
              ],
              "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
            }
          }
        ]
      },
      {
        "id": "c3c0d798-e638-4874-813c-51edad412047",
        "name": "10 - GET list (default ordering -time)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "if (items.length >= 2) {",
                "  const t0 = Date.parse(items[0].time);",
                "  const t1 = Date.parse(items[1].time);",
                "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                "}"
              ],
              "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
            }
          }
        ]
      },
      {
        "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
        "name": "11 - Filter: service=auth",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
              ],
              "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
            }
          }
        ]
      },
      {
        "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
        "name": "12 - Filter: status_code=500",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
              ],
              "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
            }
          }
        ]
      },
      {
        "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
        "name": "13 - Filter: latency 120..220",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('All latency within range', () => items.forEach(x => {",
                "  pm.expect(x.latency_ms).to.be.at.least(120);",
                "  pm.expect(x.latency_ms).to.be.at.most(220);",
                "}));"
              ],
              "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
            }
          }
        ]
      },
      {
        "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
        "name": "14 - Filter: time range 01:11..01:13",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "9a878390-578c-475e-a886-60c37f5012d9",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "const after = Date.parse('2025-12-14T01:11:00Z');",
                "const before = Date.parse('2025-12-14T01:13:00Z');",
                "pm.test('All time within range', () => items.forEach(x => {",
                "  const t = Date.parse(x.time);",
                "  pm.expect(t).to.be.at.least(after);",
                "  pm.expect(t).to.be.at.most(before);",
                "}));"
              ],
              "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
            }
          }
        ]
      },
      {
        "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
        "name": "15 - Ordering: -time,latency_ms",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "const items = Array.isArray(body) ? body : (body.results || []);",
                "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                "for (let i = 0; i < items.length - 1; i++) {",
                "  const a = items[i];",
                "  const b = items[i + 1];",
                "  const ta = Date.parse(a.time);",
                "  const tb = Date.parse(b.time);",
                "  if (ta === tb) {",
                "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                "  } else {",
                "    pm.expect(ta).to.be.at.least(tb);",
                "  }",
                "}"
              ],
              "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
            }
          }
        ]
      },
      {
        "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
        "name": "20 - GET detail (id_b)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));"
              ],
              "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
            }
          }
        ]
      },
      {
        "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
        "name": "21 - PATCH update (id_b -> latency_ms=111)",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 200', () => pm.response.to.have.status(200));",
                "const body = pm.response.json();",
                "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
              ],
              "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
            }
          }
        ]
      },
      {
        "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
        "name": "90 - DELETE sample A",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_a}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
            }
          }
        ]
      },
      {
        "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
        "name": "91 - DELETE sample B",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_b}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
            }
          }
        ]
      },
      {
        "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
        "name": "92 - DELETE sample C",
        "request": {
          "url": {
            "path": [
              "api",
              "requests",
              "{{id_c}}",
              ""
            ],
            "host": [
              "{{base_url}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
              "type": "text/javascript",
              "exec": [
                "pm.test('Status 204', () => pm.response.to.have.status(204));"
              ],
              "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
            }
          }
        ]
      }
    ],
    "event": [],
    "variable": [
      {
        "type": "string",
        "value": "https://{{app_host}}:{{app_https_port}}",
        "key": "base_url"
      },
      {
        "type": "string",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "string",
        "value": "8443",
        "key": "app_https_port"
      }
    ],
    "info": {
      "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
      "name": "APM Observability - Step 1 (CRUD + Filters)",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "description": {
        "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
        "type": "text/plain"
      }
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_using": "Newman"
    },
    "id": "7708c536-034d-4141-b094-77ad6ee40f8c",
    "name": "APM Observability - Cluster (Local)",
    "values": [
      {
        "type": "any",
        "value": "https://127.0.0.1:18443",
        "key": "base_url"
      },
      {
        "type": "any",
        "value": "127.0.0.1",
        "key": "app_host"
      },
      {
        "type": "any",
        "value": "18443",
        "key": "app_https_port"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_a"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_b"
      },
      {
        "type": "any",
        "value": "",
        "key": "id_c"
      }
    ]
  },
  "globals": {
    "id": "f1042876-4240-489f-97fd-c57ccc73c386",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 14,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 14,
        "pending": 0,
        "failed": 14
      },
      "testScripts": {
        "total": 14,
        "pending": 0,
        "failed": 10
      },
      "prerequestScripts": {
        "total": 0,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 190.28571428571428,
      "responseMin": 37,
      "responseMax": 499,
      "responseSd": 146.4749752256232,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1766972035945,
      "completed": 1766972039119
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "1f87c06e-dfe5-4c24-bc30-54ed3c276cd6",
          "httpRequestId": "61def3a6-e437-4240-8ff5-fd86afcb6115"
        },
        "item": {
          "id": "e8294360-6175-4712-9eea-56457096ffa0",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "35d71405-8d24-4a3e-a03d-d4ebf398ca29",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "214",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": {
          "id": "22327981-b56c-4043-bf6a-8ff364332647",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:56 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 499,
          "responseSize": 145
        },
        "id": "e8294360-6175-4712-9eea-56457096ffa0",
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected response to have status code 201 but got 500",
              "stack": "AssertionError: expected response to have status code 201 but got 500\n   at Object.eval sandbox-script.js:1:1)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "88f1a057-55fe-4766-beb1-5803b46f784f",
              "timestamp": 1766972036502,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "21791819-53d4-46d8-b6f1-e8fb0d223e5e",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "cbeac2e9-4244-46d9-9dd9-23f5951a6bd3"
        },
        "item": {
          "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "1857d72f-45ab-4729-a73f-c0cdb5a3383f",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "214",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": {
          "id": "5e204f51-561e-4da4-9c6f-40c46d648c21",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:56 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 75,
          "responseSize": 145
        },
        "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected response to have status code 201 but got 500",
              "stack": "AssertionError: expected response to have status code 201 but got 500\n   at Object.eval sandbox-script.js:1:2)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "6e7fcdf5-166e-459f-a3dc-a21fa075ecea",
              "timestamp": 1766972036604,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "75fb7627-af25-4df0-9763-766586a3d036",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "722c8e92-d726-4ca1-b20f-c40fe03e8ab8"
        },
        "item": {
          "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c4c36724-667a-437b-b414-8124e35dc3e4",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "214",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
          }
        },
        "response": {
          "id": "40782ce3-c930-4261-9f9b-44c7feff5a9d",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:57 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 482,
          "responseSize": 145
        },
        "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
        "assertions": [
          {
            "assertion": "Status 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 201",
              "message": "expected response to have status code 201 but got 500",
              "stack": "AssertionError: expected response to have status code 201 but got 500\n   at Object.eval sandbox-script.js:1:3)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "f74ff7bb-f61f-41e1-9c90-8fc8abb06372",
              "timestamp": 1766972037111,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "752c3d62-fcfb-49a7-aeb6-c65d383b1e79",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "5f34b7b7-e277-47fd-8661-bf30466c7af2"
        },
        "item": {
          "id": "c3c0d798-e638-4874-813c-51edad412047",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6a0ab063-4b07-49a8-9189-efaee9c3fd47",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "response": {
          "id": "b8ba9ff9-0e54-4187-9c43-34e0643a185c",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:57 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 65,
          "responseSize": 145
        },
        "id": "c3c0d798-e638-4874-813c-51edad412047",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 500",
              "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:4)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "bc494198-5469-4eec-ac48-d4d2f99abbc1",
              "timestamp": 1766972037201,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "29c95a5c-68a8-4b0e-99d5-6068aaaf6431",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "2b0577d2-928a-4325-a778-d858568a092a"
        },
        "item": {
          "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "service",
                "value": "auth"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a13c8679-83ab-4b04-89a3-22a405f0ab5f",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "response": {
          "id": "7d27a9dc-43ac-43b6-8147-086ae36132cf",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:57 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 292,
          "responseSize": 145
        },
        "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 500",
              "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:5)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "6d3dfe4d-c67a-4ab9-8b58-e0769507967d",
              "timestamp": 1766972037515,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "470f7295-c062-457d-8d43-d72779230040",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "3449027e-cd63-4cf3-9bdc-f49befd18cdf"
        },
        "item": {
          "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "status_code",
                "value": "500"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f741c93d-39ad-4d16-8fa1-3857f223dab3",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "response": {
          "id": "12e926b8-0729-4c30-8dc6-8f0634d5c0ad",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:57 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 104,
          "responseSize": 145
        },
        "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 500",
              "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:6)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "7c4afd7b-0dae-47d1-9d4b-4c8ef3abcf66",
              "timestamp": 1766972037650,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "86947c0b-60e6-4575-95b5-9db703270f5a",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "9e56567d-f7bd-48ae-add4-01c3f5ad6c4b"
        },
        "item": {
          "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "latency_min",
                "value": "120"
              },
              {
                "key": "latency_max",
                "value": "220"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "6c532ac2-d5c3-47d5-accb-dee4322e9087",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "response": {
          "id": "fa3d7374-7cc5-436e-a6a6-81ba018678ac",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:57 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 300,
          "responseSize": 145
        },
        "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 500",
              "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:7)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "a692c625-4317-4d28-87e7-57df2d18cff7",
              "timestamp": 1766972037967,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "f7f46814-d37b-4098-afe7-2fc559d0511d",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "298566da-c404-45b4-9fc9-cf85cdc25a2d"
        },
        "item": {
          "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9a878390-578c-475e-a886-60c37f5012d9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "time_after",
                "value": "2025-12-14T01:11:00Z"
              },
              {
                "key": "time_before",
                "value": "2025-12-14T01:13:00Z"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "811e68a1-ea19-498b-9687-365510d4a3b5",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "response": {
          "id": "70e6a811-a205-4afe-9982-73da897004b2",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:58 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 209,
          "responseSize": 145
        },
        "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 500",
              "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:8)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "82a6dd11-5383-41d6-95fc-2297eeb6270c",
              "timestamp": 1766972038214,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "55808f90-07ba-4938-9162-00dc33d2caf4",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "ec47aaa0-129f-4315-9ac3-701548175fe9"
        },
        "item": {
          "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [
              {
                "key": "ordering",
                "value": "-time,latency_ms"
              }
            ],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "8f1cba75-b632-4180-a9b4-8be406fb112b",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "response": {
          "id": "948bc3ec-d805-49ce-8a24-324f49baf5ff",
          "status": "Internal Server Error",
          "code": 500,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:58 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "145"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "Vary",
              "value": "Cookie"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              83,
              101,
              114,
              118,
              101,
              114,
              32,
              69,
              114,
              114,
              111,
              114,
              32,
              40,
              53,
              48,
              48,
              41,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 37,
          "responseSize": 145
        },
        "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 500",
              "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:9)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "77f08f0b-ca97-4f6e-b825-3088108698d5",
              "timestamp": 1766972038298,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "d37391d7-dd76-46cb-b984-4592571cc843",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "41575aef-9eb5-429b-a28a-12159536ff5d"
        },
        "item": {
          "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "637fa7d7-67fb-4288-bbcd-cec4fe582479",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "response": {
          "id": "8a1134f5-ae3b-43eb-8605-1d2289b1b6fe",
          "status": "Not Found",
          "code": 404,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:58 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "179"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              84,
              104,
              101,
              32,
              114,
              101,
              113,
              117,
              101,
              115,
              116,
              101,
              100,
              32,
              114,
              101,
              115,
              111,
              117,
              114,
              99,
              101,
              32,
              119,
              97,
              115,
              32,
              110,
              111,
              116,
              32,
              102,
              111,
              117,
              110,
              100,
              32,
              111,
              110,
              32,
              116,
              104,
              105,
              115,
              32,
              115,
              101,
              114,
              118,
              101,
              114,
              46,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 140,
          "responseSize": 179
        },
        "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 404",
              "stack": "AssertionError: expected response to have status code 200 but got 404\n   at Object.eval sandbox-script.js:1:10)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3ff5f78e-64b6-4853-ac1c-5d5588d68f17",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1ad68b31-29a6-4acd-96d6-82574e27162a"
        },
        "item": {
          "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4e5b34c0-1b1e-4434-acb3-9f71652665d1",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            },
            {
              "key": "Content-Length",
              "value": "23",
              "system": true
            }
          ],
          "method": "PATCH",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"latency_ms\": 111\n}"
          }
        },
        "response": {
          "id": "694d875d-3de7-48e9-b7cb-4ca601d34adc",
          "status": "Not Found",
          "code": 404,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:58 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "179"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              84,
              104,
              101,
              32,
              114,
              101,
              113,
              117,
              101,
              115,
              116,
              101,
              100,
              32,
              114,
              101,
              115,
              111,
              117,
              114,
              99,
              101,
              32,
              119,
              97,
              115,
              32,
              110,
              111,
              116,
              32,
              102,
              111,
              117,
              110,
              100,
              32,
              111,
              110,
              32,
              116,
              104,
              105,
              115,
              32,
              115,
              101,
              114,
              118,
              101,
              114,
              46,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 98,
          "responseSize": 179
        },
        "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
        "assertions": [
          {
            "assertion": "Status 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 200",
              "message": "expected response to have status code 200 but got 404",
              "stack": "AssertionError: expected response to have status code 200 but got 404\n   at Object.eval sandbox-script.js:1:11)"
            }
          }
        ],
        "testScript": [
          {
            "error": {
              "type": "Error",
              "name": "JSONError",
              "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
              "checksum": "6537d31e1a3ad7522bdad268ac04872f",
              "id": "9e594e57-3272-4a94-95f5-bb3ffc5a695e",
              "timestamp": 1766972038636,
              "stacktrace": []
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "2897cdbc-2b1e-49bb-96b5-d5539141afb0",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "7e608dc0-f002-475c-8983-d0f8b7497305"
        },
        "item": {
          "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "23d41e21-9206-4f29-b747-4fca85a328a7",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "response": {
          "id": "af5a3816-1b39-48a2-ab97-e522b77146df",
          "status": "Not Found",
          "code": 404,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:58 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "179"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              84,
              104,
              101,
              32,
              114,
              101,
              113,
              117,
              101,
              115,
              116,
              101,
              100,
              32,
              114,
              101,
              115,
              111,
              117,
              114,
              99,
              101,
              32,
              119,
              97,
              115,
              32,
              110,
              111,
              116,
              32,
              102,
              111,
              117,
              110,
              100,
              32,
              111,
              110,
              32,
              116,
              104,
              105,
              115,
              32,
              115,
              101,
              114,
              118,
              101,
              114,
              46,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 88,
          "responseSize": 179
        },
        "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected response to have status code 204 but got 404",
              "stack": "AssertionError: expected response to have status code 204 but got 404\n   at Object.eval sandbox-script.js:1:12)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "d1f95b42-7fdd-40ab-8603-84eceb7f8d3e",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "25072e1d-8e5f-43c5-b1ad-32fc7857eaba"
        },
        "item": {
          "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "dbf5840e-4e37-4cbd-aef8-b36aaf01305e",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "response": {
          "id": "da9a6d31-72a3-47fb-8630-547f47918a2e",
          "status": "Not Found",
          "code": 404,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:58 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "179"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              84,
              104,
              101,
              32,
              114,
              101,
              113,
              117,
              101,
              115,
              116,
              101,
              100,
              32,
              114,
              101,
              115,
              111,
              117,
              114,
              99,
              101,
              32,
              119,
              97,
              115,
              32,
              110,
              111,
              116,
              32,
              102,
              111,
              117,
              110,
              100,
              32,
              111,
              110,
              32,
              116,
              104,
              105,
              115,
              32,
              115,
              101,
              114,
              118,
              101,
              114,
              46,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 66,
          "responseSize": 179
        },
        "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected response to have status code 204 but got 404",
              "stack": "AssertionError: expected response to have status code 204 but got 404\n   at Object.eval sandbox-script.js:1:13)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4a174d84-f001-4f8b-b62c-54005fe80fc5",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "31df34f2-f183-4372-a7ad-185ba7068605"
        },
        "item": {
          "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "port": "18443",
            "path": [
              "api",
              "requests",
              "",
              ""
            ],
            "host": [
              "127",
              "0",
              "0",
              "1"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4988c6e6-01c5-4531-8925-acf1313289d6",
              "system": true
            },
            {
              "key": "Host",
              "value": "127.0.0.1:18443",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "response": {
          "id": "93ad3542-4cf9-4ac6-821e-47043c289642",
          "status": "Not Found",
          "code": 404,
          "header": [
            {
              "key": "Server",
              "value": "nginx"
            },
            {
              "key": "Date",
              "value": "Mon, 29 Dec 2025 01:33:59 GMT"
            },
            {
              "key": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "key": "Content-Length",
              "value": "179"
            },
            {
              "key": "Connection",
              "value": "keep-alive"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "same-origin"
            },
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ],
          "stream": {
            "type": "Buffer",
            "data": [
              10,
              60,
              33,
              100,
              111,
              99,
              116,
              121,
              112,
              101,
              32,
              104,
              116,
              109,
              108,
              62,
              10,
              60,
              104,
              116,
              109,
              108,
              32,
              108,
              97,
              110,
              103,
              61,
              34,
              101,
              110,
              34,
              62,
              10,
              60,
              104,
              101,
              97,
              100,
              62,
              10,
              32,
              32,
              60,
              116,
              105,
              116,
              108,
              101,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              116,
              105,
              116,
              108,
              101,
              62,
              10,
              60,
              47,
              104,
              101,
              97,
              100,
              62,
              10,
              60,
              98,
              111,
              100,
              121,
              62,
              10,
              32,
              32,
              60,
              104,
              49,
              62,
              78,
              111,
              116,
              32,
              70,
              111,
              117,
              110,
              100,
              60,
              47,
              104,
              49,
              62,
              60,
              112,
              62,
              84,
              104,
              101,
              32,
              114,
              101,
              113,
              117,
              101,
              115,
              116,
              101,
              100,
              32,
              114,
              101,
              115,
              111,
              117,
              114,
              99,
              101,
              32,
              119,
              97,
              115,
              32,
              110,
              111,
              116,
              32,
              102,
              111,
              117,
              110,
              100,
              32,
              111,
              110,
              32,
              116,
              104,
              105,
              115,
              32,
              115,
              101,
              114,
              118,
              101,
              114,
              46,
              60,
              47,
              112,
              62,
              10,
              60,
              47,
              98,
              111,
              100,
              121,
              62,
              10,
              60,
              47,
              104,
              116,
              109,
              108,
              62,
              10
            ]
          },
          "cookie": [],
          "responseTime": 209,
          "responseSize": 179
        },
        "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
        "assertions": [
          {
            "assertion": "Status 204",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status 204",
              "message": "expected response to have status code 204 but got 404",
              "stack": "AssertionError: expected response to have status code 204 but got 404\n   at Object.eval sandbox-script.js:1:14)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 2200
    },
    "failures": [
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected response to have status code 201 but got 500",
          "stack": "AssertionError: expected response to have status code 201 but got 500\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "c2ea8ee6285c194449ef326b1e3b056a",
          "id": "aa6c4961-1c9a-401d-8125-a9e62bbfe73c",
          "timestamp": 1766972036493,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e8294360-6175-4712-9eea-56457096ffa0",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "1f87c06e-dfe5-4c24-bc30-54ed3c276cd6",
          "httpRequestId": "61def3a6-e437-4240-8ff5-fd86afcb6115",
          "scriptId": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
          "execution": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "88f1a057-55fe-4766-beb1-5803b46f784f",
          "timestamp": 1766972036502,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "e8294360-6175-4712-9eea-56457096ffa0",
          "name": "00 - Create sample A (older time, 500)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_a', body.id);"
                ],
                "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 14,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "1f87c06e-dfe5-4c24-bc30-54ed3c276cd6",
          "httpRequestId": "61def3a6-e437-4240-8ff5-fd86afcb6115",
          "scriptId": "2d3ef534-8c8e-4beb-859f-bdd164eba2df"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected response to have status code 201 but got 500",
          "stack": "AssertionError: expected response to have status code 201 but got 500\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "6e391a4e4beecf08a092e2fc9693ef71",
          "id": "048ca9e1-0021-445e-8c90-dc2964acdd89",
          "timestamp": 1766972036601,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "21791819-53d4-46d8-b6f1-e8fb0d223e5e",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "cbeac2e9-4244-46d9-9dd9-23f5951a6bd3",
          "scriptId": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
          "execution": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "6e7fcdf5-166e-459f-a3dc-a21fa075ecea",
          "timestamp": 1766972036604,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
          "name": "01 - Create sample B (newer time, latency 100)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_b', body.id);"
                ],
                "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "21791819-53d4-46d8-b6f1-e8fb0d223e5e",
          "length": 14,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "cbeac2e9-4244-46d9-9dd9-23f5951a6bd3",
          "scriptId": "97ae3287-ce0a-4a47-975a-eefd25899e8e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 201",
          "message": "expected response to have status code 201 but got 500",
          "stack": "AssertionError: expected response to have status code 201 but got 500\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "26126efea092abec692aed7dcb072260",
          "id": "6e7b3f02-a267-4801-a671-92ec2b43ece1",
          "timestamp": 1766972037107,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "75fb7627-af25-4df0-9763-766586a3d036",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "722c8e92-d726-4ca1-b20f-c40fe03e8ab8",
          "scriptId": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
          "execution": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "f74ff7bb-f61f-41e1-9c90-8fc8abb06372",
          "timestamp": 1766972037111,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
          "name": "02 - Create sample C (newer time, latency 200)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 201', () => pm.response.to.have.status(201));",
                  "const body = pm.response.json();",
                  "pm.environment.set('id_c', body.id);"
                ],
                "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "75fb7627-af25-4df0-9763-766586a3d036",
          "length": 14,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "722c8e92-d726-4ca1-b20f-c40fe03e8ab8",
          "scriptId": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 500",
          "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "1b2a41147e28639e5dd37421d1e22789",
          "id": "b1d6ed5f-2329-4e34-8c1b-6f32b697a5c9",
          "timestamp": 1766972037199,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c3c0d798-e638-4874-813c-51edad412047",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "752c3d62-fcfb-49a7-aeb6-c65d383b1e79",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "5f34b7b7-e277-47fd-8661-bf30466c7af2",
          "scriptId": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
          "execution": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "bc494198-5469-4eec-ac48-d4d2f99abbc1",
          "timestamp": 1766972037201,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "c3c0d798-e638-4874-813c-51edad412047",
          "name": "10 - GET list (default ordering -time)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "if (items.length >= 2) {",
                  "  const t0 = Date.parse(items[0].time);",
                  "  const t1 = Date.parse(items[1].time);",
                  "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                  "}"
                ],
                "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "752c3d62-fcfb-49a7-aeb6-c65d383b1e79",
          "length": 14,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "5f34b7b7-e277-47fd-8661-bf30466c7af2",
          "scriptId": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 500",
          "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "90f9084b96055b91460d780a9845bccc",
          "id": "06024a3d-4a09-4c29-9a63-f73ad5b054b8",
          "timestamp": 1766972037512,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "29c95a5c-68a8-4b0e-99d5-6068aaaf6431",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "2b0577d2-928a-4325-a778-d858568a092a",
          "scriptId": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
          "execution": "c85f307b-fcd9-4c27-8fad-10b03970538e"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "6d3dfe4d-c67a-4ab9-8b58-e0769507967d",
          "timestamp": 1766972037515,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
          "name": "11 - Filter: service=auth",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "service",
                  "value": "auth"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                ],
                "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "29c95a5c-68a8-4b0e-99d5-6068aaaf6431",
          "length": 14,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "2b0577d2-928a-4325-a778-d858568a092a",
          "scriptId": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 500",
          "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:6)",
          "checksum": "1863676efb724fa011b5aca2308ad1fc",
          "id": "c4c834f1-2936-4f02-8f1f-4213a31b5c71",
          "timestamp": 1766972037645,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "470f7295-c062-457d-8d43-d72779230040",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "3449027e-cd63-4cf3-9bdc-f49befd18cdf",
          "scriptId": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
          "execution": "eb09e6aa-455a-403c-b248-9646f9e96c56"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "7c4afd7b-0dae-47d1-9d4b-4c8ef3abcf66",
          "timestamp": 1766972037650,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
          "name": "12 - Filter: status_code=500",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "status_code",
                  "value": "500"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                ],
                "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "470f7295-c062-457d-8d43-d72779230040",
          "length": 14,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "3449027e-cd63-4cf3-9bdc-f49befd18cdf",
          "scriptId": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 500",
          "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:7)",
          "checksum": "db4673c456c1adfb88c4405f20da740c",
          "id": "6f9da05b-a296-4995-98a2-3717675b03c3",
          "timestamp": 1766972037965,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "86947c0b-60e6-4575-95b5-9db703270f5a",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "9e56567d-f7bd-48ae-add4-01c3f5ad6c4b",
          "scriptId": "4a2f4914-5514-49cb-b6aa-ea7806798672",
          "execution": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "a692c625-4317-4d28-87e7-57df2d18cff7",
          "timestamp": 1766972037967,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
          "name": "13 - Filter: latency 120..220",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "latency_min",
                  "value": "120"
                },
                {
                  "key": "latency_max",
                  "value": "220"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('All latency within range', () => items.forEach(x => {",
                  "  pm.expect(x.latency_ms).to.be.at.least(120);",
                  "  pm.expect(x.latency_ms).to.be.at.most(220);",
                  "}));"
                ],
                "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "86947c0b-60e6-4575-95b5-9db703270f5a",
          "length": 14,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "9e56567d-f7bd-48ae-add4-01c3f5ad6c4b",
          "scriptId": "4a2f4914-5514-49cb-b6aa-ea7806798672"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 500",
          "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:8)",
          "checksum": "d20f2743f25dfd72f5e0dac0342fa2ad",
          "id": "ea6d1760-e9ac-417b-8a96-33072ee65e74",
          "timestamp": 1766972038195,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9a878390-578c-475e-a886-60c37f5012d9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "f7f46814-d37b-4098-afe7-2fc559d0511d",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "298566da-c404-45b4-9fc9-cf85cdc25a2d",
          "scriptId": "9a878390-578c-475e-a886-60c37f5012d9",
          "execution": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "82a6dd11-5383-41d6-95fc-2297eeb6270c",
          "timestamp": 1766972038214,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
          "name": "14 - Filter: time range 01:11..01:13",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "time_after",
                  "value": "2025-12-14T01:11:00Z"
                },
                {
                  "key": "time_before",
                  "value": "2025-12-14T01:13:00Z"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9a878390-578c-475e-a886-60c37f5012d9",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "const after = Date.parse('2025-12-14T01:11:00Z');",
                  "const before = Date.parse('2025-12-14T01:13:00Z');",
                  "pm.test('All time within range', () => items.forEach(x => {",
                  "  const t = Date.parse(x.time);",
                  "  pm.expect(t).to.be.at.least(after);",
                  "  pm.expect(t).to.be.at.most(before);",
                  "}));"
                ],
                "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "f7f46814-d37b-4098-afe7-2fc559d0511d",
          "length": 14,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "298566da-c404-45b4-9fc9-cf85cdc25a2d",
          "scriptId": "9a878390-578c-475e-a886-60c37f5012d9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 500",
          "stack": "AssertionError: expected response to have status code 200 but got 500\n   at Object.eval sandbox-script.js:1:9)",
          "checksum": "862d64f2d992b991137bb55ccc038bd5",
          "id": "0a3b92d5-274b-42d4-9c81-cfc1c31f8493",
          "timestamp": 1766972038286,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "55808f90-07ba-4938-9162-00dc33d2caf4",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "ec47aaa0-129f-4315-9ac3-701548175fe9",
          "scriptId": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
          "execution": "484a1e3d-01ac-4dcb-adea-2096939fa297"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "77f08f0b-ca97-4f6e-b825-3088108698d5",
          "timestamp": 1766972038298,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
          "name": "15 - Ordering: -time,latency_ms",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [
                {
                  "key": "ordering",
                  "value": "-time,latency_ms"
                }
              ],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "const items = Array.isArray(body) ? body : (body.results || []);",
                  "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                  "for (let i = 0; i < items.length - 1; i++) {",
                  "  const a = items[i];",
                  "  const b = items[i + 1];",
                  "  const ta = Date.parse(a.time);",
                  "  const tb = Date.parse(b.time);",
                  "  if (ta === tb) {",
                  "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                  "  } else {",
                  "    pm.expect(ta).to.be.at.least(tb);",
                  "  }",
                  "}"
                ],
                "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "55808f90-07ba-4938-9162-00dc33d2caf4",
          "length": 14,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "ec47aaa0-129f-4315-9ac3-701548175fe9",
          "scriptId": "3b5ce983-d427-4860-9cf9-2d865f9a8117"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 404",
          "stack": "AssertionError: expected response to have status code 200 but got 404\n   at Object.eval sandbox-script.js:1:10)",
          "checksum": "b159d740f866cff61b7116ab8d564e27",
          "id": "853d3739-ae18-4c27-82b9-ff4a069789a9",
          "timestamp": 1766972038468,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
          "name": "20 - GET detail (id_b)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));"
                ],
                "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "d37391d7-dd76-46cb-b984-4592571cc843",
          "length": 14,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "41575aef-9eb5-429b-a28a-12159536ff5d",
          "scriptId": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
          "execution": "a7a8300e-1115-4b80-86a0-abcbaded5905"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 200",
          "message": "expected response to have status code 200 but got 404",
          "stack": "AssertionError: expected response to have status code 200 but got 404\n   at Object.eval sandbox-script.js:1:11)",
          "checksum": "5be5e3b8c8db681251232934df6cf43f",
          "id": "b884ea36-3075-4cf4-92fc-fbc951f21dbc",
          "timestamp": 1766972038631,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "3ff5f78e-64b6-4853-ac1c-5d5588d68f17",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1ad68b31-29a6-4acd-96d6-82574e27162a",
          "scriptId": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
          "execution": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
        }
      },
      {
        "error": {
          "type": "Error",
          "name": "JSONError",
          "message": "Unexpected token '<' at 2:1\n<!doctype html>\n^",
          "checksum": "6537d31e1a3ad7522bdad268ac04872f",
          "id": "9e594e57-3272-4a94-95f5-bb3ffc5a695e",
          "timestamp": 1766972038636,
          "stacktrace": []
        },
        "at": "test-script",
        "source": {
          "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
          "name": "21 - PATCH update (id_b -> latency_ms=111)",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latency_ms\": 111\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 200', () => pm.response.to.have.status(200));",
                  "const body = pm.response.json();",
                  "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                ],
                "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "3ff5f78e-64b6-4853-ac1c-5d5588d68f17",
          "length": 14,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1ad68b31-29a6-4acd-96d6-82574e27162a",
          "scriptId": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected response to have status code 204 but got 404",
          "stack": "AssertionError: expected response to have status code 204 but got 404\n   at Object.eval sandbox-script.js:1:12)",
          "checksum": "ddb8a119d201f008fa4903c496ffca19",
          "id": "7aad3709-e078-4395-aead-dcc9390134da",
          "timestamp": 1766972038741,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
          "name": "90 - DELETE sample A",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_a}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "2897cdbc-2b1e-49bb-96b5-d5539141afb0",
          "length": 14,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "7e608dc0-f002-475c-8983-d0f8b7497305",
          "scriptId": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
          "execution": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected response to have status code 204 but got 404",
          "stack": "AssertionError: expected response to have status code 204 but got 404\n   at Object.eval sandbox-script.js:1:13)",
          "checksum": "02533737ceddd4dc6cb542c4dd9a6d62",
          "id": "049dcc93-963e-49ba-9f03-f61fc8e6c777",
          "timestamp": 1766972038829,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
          "name": "91 - DELETE sample B",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_b}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "d1f95b42-7fdd-40ab-8603-84eceb7f8d3e",
          "length": 14,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "25072e1d-8e5f-43c5-b1ad-32fc7857eaba",
          "scriptId": "a8331821-0b25-4e81-a16d-432b64fd2599",
          "execution": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status 204",
          "message": "expected response to have status code 204 but got 404",
          "stack": "AssertionError: expected response to have status code 204 but got 404\n   at Object.eval sandbox-script.js:1:14)",
          "checksum": "b12a26b3317be26cb0f2d2379abea849",
          "id": "b27aa60d-b768-4ae3-b966-054d28bb5ff1",
          "timestamp": 1766972039104,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
          "name": "92 - DELETE sample C",
          "request": {
            "url": {
              "path": [
                "api",
                "requests",
                "{{id_c}}",
                ""
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status 204', () => pm.response.to.have.status(204));"
                ],
                "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01"
          },
          "item": [
            {
              "id": "e8294360-6175-4712-9eea-56457096ffa0",
              "name": "00 - Create sample A (older time, 500)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:10:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 500,\n  \"latency_ms\": 150,\n  \"trace_id\": \"tr_a\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2d3ef534-8c8e-4beb-859f-bdd164eba2df",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_a', body.id);"
                    ],
                    "_lastExecutionId": "63fc4688-c4a1-4ba9-bba6-4f0a4d11ca6c"
                  }
                }
              ]
            },
            {
              "id": "d74d52bc-8b52-4eba-8d05-8907df371a79",
              "name": "01 - Create sample B (newer time, latency 100)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 100,\n  \"trace_id\": \"tr_b\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "97ae3287-ce0a-4a47-975a-eefd25899e8e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_b', body.id);"
                    ],
                    "_lastExecutionId": "48048b80-e9c6-4f0b-8969-bb01f76419b1"
                  }
                }
              ]
            },
            {
              "id": "d49b98d0-aafb-449a-84dd-5e30215c412d",
              "name": "02 - Create sample C (newer time, latency 200)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"time\": \"2025-12-14T01:12:00Z\",\n  \"service\": \"auth\",\n  \"endpoint\": \"/login\",\n  \"method\": \"POST\",\n  \"status_code\": 200,\n  \"latency_ms\": 200,\n  \"trace_id\": \"tr_c\",\n  \"user_ref\": \"u_42\",\n  \"tags\": {\"env\": \"dev\"}\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "72d4d89d-4249-4ce9-8424-1b5239d1f4a4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 201', () => pm.response.to.have.status(201));",
                      "const body = pm.response.json();",
                      "pm.environment.set('id_c', body.id);"
                    ],
                    "_lastExecutionId": "05df100a-2cc6-4f5b-ae7b-98dcc19a57c7"
                  }
                }
              ]
            },
            {
              "id": "c3c0d798-e638-4874-813c-51edad412047",
              "name": "10 - GET list (default ordering -time)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e7baac4a-8a04-4a9a-90c4-4f1866fbf172",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "if (items.length >= 2) {",
                      "  const t0 = Date.parse(items[0].time);",
                      "  const t1 = Date.parse(items[1].time);",
                      "  pm.test('Ordered by -time (non-increasing)', () => pm.expect(t0).to.be.at.least(t1));",
                      "}"
                    ],
                    "_lastExecutionId": "f8e090f6-eafd-41ab-af2b-b176c3b52e96"
                  }
                }
              ]
            },
            {
              "id": "fcb45c80-4f9c-4d68-bbb8-dd050de86599",
              "name": "11 - Filter: service=auth",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "service",
                      "value": "auth"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0eaf5599-3324-48ce-8d21-af1cdd98ce8d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All service=auth', () => items.forEach(x => pm.expect(x.service).to.eql('auth')));"
                    ],
                    "_lastExecutionId": "c85f307b-fcd9-4c27-8fad-10b03970538e"
                  }
                }
              ]
            },
            {
              "id": "c9459a12-5d46-45f0-98a9-d557a946bfe8",
              "name": "12 - Filter: status_code=500",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "status_code",
                      "value": "500"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b3edd1ef-c0dc-46b7-a53a-d623e62e41b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All status_code=500', () => items.forEach(x => pm.expect(x.status_code).to.eql(500)));"
                    ],
                    "_lastExecutionId": "eb09e6aa-455a-403c-b248-9646f9e96c56"
                  }
                }
              ]
            },
            {
              "id": "42dd0874-fe96-498d-b340-619b3fa0c592",
              "name": "13 - Filter: latency 120..220",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "latency_min",
                      "value": "120"
                    },
                    {
                      "key": "latency_max",
                      "value": "220"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4a2f4914-5514-49cb-b6aa-ea7806798672",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('All latency within range', () => items.forEach(x => {",
                      "  pm.expect(x.latency_ms).to.be.at.least(120);",
                      "  pm.expect(x.latency_ms).to.be.at.most(220);",
                      "}));"
                    ],
                    "_lastExecutionId": "fc94b77a-a80e-44cc-9bf3-f67b655a6b79"
                  }
                }
              ]
            },
            {
              "id": "2a8b849d-9a41-4fb7-beb7-a0eb81694665",
              "name": "14 - Filter: time range 01:11..01:13",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "time_after",
                      "value": "2025-12-14T01:11:00Z"
                    },
                    {
                      "key": "time_before",
                      "value": "2025-12-14T01:13:00Z"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a878390-578c-475e-a886-60c37f5012d9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "const after = Date.parse('2025-12-14T01:11:00Z');",
                      "const before = Date.parse('2025-12-14T01:13:00Z');",
                      "pm.test('All time within range', () => items.forEach(x => {",
                      "  const t = Date.parse(x.time);",
                      "  pm.expect(t).to.be.at.least(after);",
                      "  pm.expect(t).to.be.at.most(before);",
                      "}));"
                    ],
                    "_lastExecutionId": "b3d6a13a-68f8-4f8d-9b3f-7a79d214e2a9"
                  }
                }
              ]
            },
            {
              "id": "d591ee8c-22ec-46d1-b43f-b0b676e69767",
              "name": "15 - Ordering: -time,latency_ms",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [
                    {
                      "key": "ordering",
                      "value": "-time,latency_ms"
                    }
                  ],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3b5ce983-d427-4860-9cf9-2d865f9a8117",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "const items = Array.isArray(body) ? body : (body.results || []);",
                      "pm.test('Has array', () => pm.expect(items).to.be.an('array'));",
                      "for (let i = 0; i < items.length - 1; i++) {",
                      "  const a = items[i];",
                      "  const b = items[i + 1];",
                      "  const ta = Date.parse(a.time);",
                      "  const tb = Date.parse(b.time);",
                      "  if (ta === tb) {",
                      "    pm.expect(a.latency_ms).to.be.at.most(b.latency_ms);",
                      "  } else {",
                      "    pm.expect(ta).to.be.at.least(tb);",
                      "  }",
                      "}"
                    ],
                    "_lastExecutionId": "484a1e3d-01ac-4dcb-adea-2096939fa297"
                  }
                }
              ]
            },
            {
              "id": "aeb41f5a-997e-4161-9c5e-e0cfa63bd156",
              "name": "20 - GET detail (id_b)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "4e56c75a-dd5b-4a88-9e19-063576f08d83",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));"
                    ],
                    "_lastExecutionId": "a7a8300e-1115-4b80-86a0-abcbaded5905"
                  }
                }
              ]
            },
            {
              "id": "77f6dfd1-36d5-497d-8c14-3260c30271b2",
              "name": "21 - PATCH update (id_b -> latency_ms=111)",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"latency_ms\": 111\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5f9ea134-3fd1-46bf-a243-6961cbb7a6cb",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 200', () => pm.response.to.have.status(200));",
                      "const body = pm.response.json();",
                      "pm.test('Latency updated', () => pm.expect(body.latency_ms).to.eql(111));"
                    ],
                    "_lastExecutionId": "679e5d37-7f88-43ed-bf39-ebe47780a65b"
                  }
                }
              ]
            },
            {
              "id": "9a691a78-bf01-465d-892e-d5e9d22d95f7",
              "name": "90 - DELETE sample A",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_a}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7b3faf8b-f9bd-46e7-ab2c-fcff764d40c7",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "9ffc48bf-dc9d-4935-b25c-5b05a4d8a399"
                  }
                }
              ]
            },
            {
              "id": "81b818a9-b6a7-4273-9c56-1eaa2645f47f",
              "name": "91 - DELETE sample B",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_b}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a8331821-0b25-4e81-a16d-432b64fd2599",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "314587f7-70f2-42bb-a9a1-2dca8af598d5"
                  }
                }
              ]
            },
            {
              "id": "c4d03298-c844-42db-b4b3-f585d2a31304",
              "name": "92 - DELETE sample C",
              "request": {
                "url": {
                  "path": [
                    "api",
                    "requests",
                    "{{id_c}}",
                    ""
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test('Status 204', () => pm.response.to.have.status(204));"
                    ],
                    "_lastExecutionId": "008ad66a-eb71-44c8-aba2-ec793231de6c"
                  }
                }
              ]
            }
          ],
          "event": [],
          "variable": [
            {
              "type": "string",
              "value": "https://{{app_host}}:{{app_https_port}}",
              "key": "base_url"
            },
            {
              "type": "string",
              "value": "127.0.0.1",
              "key": "app_host"
            },
            {
              "type": "string",
              "value": "8443",
              "key": "app_https_port"
            }
          ],
          "info": {
            "_postman_id": "0f2c9f3e-2c3a-4c38-bf92-2c4c6b4a5d01",
            "name": "APM Observability - Step 1 (CRUD + Filters)",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "Step 1 smoke tests for ApiRequest CRUD + filtering/ordering/search.",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "4a174d84-f001-4f8b-b62c-54005fe80fc5",
          "length": 14,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "31df34f2-f183-4372-a7ad-185ba7068605",
          "scriptId": "df4459b9-d0b8-4a30-9ea6-8e084188f360",
          "execution": "008ad66a-eb71-44c8-aba2-ec793231de6c"
        }
      }
    ],
    "error": null
  }
}