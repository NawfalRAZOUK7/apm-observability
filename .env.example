# =========================
# APM Observability - ENV
# Copy to .env and edit
# =========================

# ---- Django ----
DJANGO_DEBUG=0
DJANGO_SECRET_KEY=change-me-please
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,testserver

# Optional
DJANGO_TIME_ZONE=UTC
DRF_PAGE_SIZE=50

# ---- Web container port (docker-compose) ----
WEB_PORT=8000

# ---- Postgres / TimescaleDB ----
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=apm
POSTGRES_USER=apm
POSTGRES_PASSWORD=apm
# Dedicated writer user (preferred)
POSTGRES_APP_USER=apm_writer
POSTGRES_APP_PASSWORD=apm_writer_pass
# Read-only user (analytics/Grafana)
POSTGRES_READONLY_USER=apm_reader
POSTGRES_READONLY_PASSWORD=apm_reader_pass

# Optional (for hosted Postgres)
# Examples: disable, require, verify-ca, verify-full
DB_SSLMODE=disable

# Optional: force SQLite even if Postgres env exists (useful for quick debug)
# FORCE_SQLITE=0

# Optional: DB connection reuse (seconds)
DB_CONN_MAX_AGE=60

# Optional: keep reads on primary for N seconds after a write (replication lag)
READ_AFTER_WRITE_TTL=2

# Optional: test DB name override
# POSTGRES_TEST_DB=apm_test

# ---- SSL Configuration ----
# For development: set to false to skip SSL certificate verification
# For production: set to true or leave unset for proper certificate validation
SSL_VERIFY=false

# ---- Gunicorn (used by docker/entrypoint.sh) ----
GUNICORN_WORKERS=3
GUNICORN_TIMEOUT=60
GUNICORN_BIND=0.0.0.0:8000

# ---- Gemini Embeddings ----
# Never commit real keys. Use local .env or secret manager.
GEMINI_API_KEY=
GEMINI_EMBED_MODEL=text-embedding-004
GEMINI_EMBED_TIMEOUT=10
GEMINI_EMBED_MAX_CHARS=8000
GEMINI_EMBED_MIN_DELAY_S=0
